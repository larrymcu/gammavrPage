if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){return s['stopTextToSpeech']();}this['player']['delete']();this['player']=undefined;window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(v){if(v['name']=='begin'){var w=v['data']['source']['get']('camera');if(w&&w['get']('initialSequence')&&w['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(v['sourceClassName']=='MediaAudio')return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,u,!![]);u['unbindOnObjectsOf']('PanoramaPlayListItem','begin',t,u,!![]);u['unbind']('stateChange',t,u,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PanoramaPlayListItem','begin',t,this,!![]);u['bindOnObject']('rootPlayer','start',function(x){var y=x['data']['source'];var z=window['navigator']['language']||window['navigator']['userLanguage']||'en';var A=y['get']('data')['locales']||{};var B=y['get']('data')['defaultLocale']||z;var C=this['locManager']=new TDV['Tour']['LocaleManager'](y,A,B,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));y['get']('data')['localeManager']=C;var D=function(){var J=y['get']('data');if(!('updateText'in J)){J['updateText']=function(N){var O=N[0x0]['split']('.');if(O['length']==0x2){var P=C['trans']['apply'](C,N);var Q=N[0x1]||y;if(typeof Q=='string'){var R=Q['split']('.');Q=y[R['shift']()];for(var S=0x0;S<R['length']-0x1;++S){if(Q!=undefined)Q='get'in Q?Q['get'](R[S]):Q[R[S]];}if(Q!=undefined){var T=R[R['length']-0x1];if(Array['isArray'](Q)){for(var U=0x0;U<Q['length'];++U){this['setValue'](Q[U],T,P);}}else this['setValue'](Q,T,P);}}else{Q=Q[O[0x0]];this['setValue'](Q,O[0x1],P);}}}['bind'](y);}var K=J['translateObjs'];var L=J['updateText'];var M=function(){for(var V in K){L(K[V]);}};M();M();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],D['bind'](this));var E=this['_getParams'](location['search']['substr'](0x1));var F=E['language'];if(!F||!this['locManager']['hasLocale'](E['language']))F=z;this['setLocale'](F);this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![])||this['_setMediaFromURL'](E,!![]);if(this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']&&typeof this['_devicesUrl'][TDV['Tour']['DEVICE_MOBILE']]=='object'){var G=function(){if(!y['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload']();return!![];}return![];};if(G['call'](this))return;var H=y['getByClassName']('PanoramaPlayer');for(var I=0x0;I<H['length'];++I){H[I]['bind']('viewModeChange',G,this);}y['bind']('orientationChange',G,this);}this['_onHashChange']=function(){this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![]);}['bind'](this);this['_onKeyUp']=function(W){if(W['key']=='u'){this['updateDeepLink']();this['copyToClipboard'](location['href']);}}['bind'](this);this['_onBeforeUnload']=function(X){y['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);y['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));},this,!![]);window['addEventListener']('message',function(Y){var Z=Y['data'];if(Z=='pauseTour')Z='pause';else if(Z=='resumeTour')Z='resume';else return;this[Z]['apply'](this);}['bind'](this));};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var a0=player['getByClassName']('PlayList');for(var a1=0x0,a2=a0['length'];a1<a2;a1++){var a3=a0[a1];var a4=a3['get']('selectedIndex');if(a4!=-0x1){var a5=a3['get']('items')[a4];var a6=a5['get']('player');if(a6&&a6['pause']){this['_playersPlayingTmp']['push'](a6);a6['pause']();}}}this['player']['getById']('pauseGlobalAudios')();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var a7=this['playersPlayingTmp']['pop']();a7['play']();}this['player']['getById']('resumeGlobalAudios')();};TDV['Tour']['prototype']['reload']=function(){this['_orientation']=this['_getOrientation']();this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(a8){var a9=this['_getRootPlayer']();if(a9!==undefined){return a9['setMainMediaByIndex'](a8);}};TDV['Tour']['prototype']['setMediaByName']=function(aa){var ab=this['_getRootPlayer']();if(ab!==undefined){return ab['setMainMediaByName'](aa);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(ac,ad,ae){var af=this['_getRootPlayer']();if(af!==undefined&&ae){var ag=af['getPanoramaOverlayByName'](ac['get']('media'),ad);if(ag){af['triggerOverlay'](ag,ae);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(ah,ai){var aj=this['_getRootPlayer']();if(aj!==undefined){var ak=aj['getPanoramaOverlayByName'](ah['get']('media'),ai);if(ak){var al=ak['get']('class');var am=al=='VideoPanoramaOverlay'?ak:ak['get']('items')[0x0];var an=am['get']('yaw');var ao=am['get']('pitch');var ap=aj['getPlayListWithItem'](ah);if(an&&ao&&ap){var aq=function(){aj['setPanoramaCameraWithSpot'](ap,ah,an,ao);};if(!this['_isInitialized']){var ar=function(){ah['unbind']('begin',ar,this);aq();};ah['bind']('begin',ar,this);}else{aq();}}}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var as=this['_getRootPlayer']();if(as!==undefined){as['updateDeepLink']();}};TDV['Tour']['prototype']['setLocale']=function(at){var au=this['_getRootPlayer']();if(au!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](at);}};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['copyToClipboard']=function(av){if(navigator['clipboard']){navigator['clipboard']['writeText'](av);}else{var aw=document['createElement']('textarea');aw['value']=av;aw['style']['position']='fixed';document['body']['appendChild'](aw);aw['focus']();aw['select']();try{document['execCommand']('copy');}catch(ax){}document['body']['removeChild'](aw);}};TDV['Tour']['prototype']['_getOrientation']=function(){var ay=this['_getRootPlayer']();if(ay){return ay['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(az){var aA={};az['split']('&')['forEach'](function(aB){var aC=aB['split']('=')[0x0],aD=decodeURIComponent(aB['split']('=')[0x1]);aA[aC['toLowerCase']()]=aD;});return aA;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var aE=document['getElementById']('metaViewport');if(aE){var aF=this['_devicesUrl'][this['_device']];var aG=this['_getOrientation']();var aH=0x1;if(typeof aF=='object'&&aG in aF&&aG==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){aH=aE['getAttribute']('data-tdv-general-scale')||0.5;}var aI=aE['getAttribute']('content');aI=aI['replace'](/initial-scale=(\d+(\.\d+)?)/,function(aJ,aK){return'initial-scale='+aH;});aE['setAttribute']('content',aI);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var aL=this['_devicesUrl'][this['_device']];if(typeof aL=='object'){if(this['_orientation']in aL){aL=aL[this['_orientation']];}}return aL;};TDV['Tour']['prototype']['_getDevice']=function(){var aM=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']){aM=TDV['Tour']['DEVICE_MOBILE'];}return aM;};TDV['Tour']['prototype']['_setMediaFromURL']=function(aN,aO){var aP=this['_getRootPlayer']();var aQ=aP['getActivePlayerWithViewer'](aP['MainViewer']);var aR=aQ?aP['getMediaFromPlayer'](aQ):undefined;var aS=undefined;if('media'in aN){var aT=aN['media'];var aU=Number(aT);aS=isNaN(aU)?this['setMediaByName'](aT):this['setMediaByIndex'](aU-0x1);}else if('media-index'in aN){aS=this['setMediaByIndex'](parseInt(aN['media-index'])-0x1);}else if('media-name'in aN){aS=this['setMediaByName'](aN['media-name']);}if(aS==undefined&&aO){aS=this['setMediaByIndex'](0x0);}if(aS!=undefined){var aV=aS['get']('player');var aW=function(){if('trigger-overlay-name'in aN){this['triggerOverlayByName'](aS,aN['trigger-overlay-name'],'trigger-overlay-event'in aN?aN['trigger-overlay-event']:'click');}if('focus-overlay-name'in aN){this['focusOverlayByName'](aS,aN['focus-overlay-name']);}else if('yaw'in aN&&'pitch'in aN){var b0=parseInt(aN['yaw']);var b1=parseInt(aN['pitch']);var b2=aP['getPlayListWithItem'](aS);if(!isNaN(b0)&&!isNaN(b1)&&b2)aP['setPanoramaCameraWithSpot'](b2,aS,b0,b1);}}['bind'](this);if(aV){var aX=aV['get']('viewerArea')==aP['MainViewer'];var aY=aP['getMediaFromPlayer'](aV);if(aX&&aR==aS['get']('media')||!aX&&aY==aS['get']('media')){aW();return aS!=undefined;}}var aZ=function(){aS['unbind']('begin',aZ,this);aW();};aS['bind']('begin',aZ,aP);}return aS!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var b3=function(){var b4=undefined;var b5=function(){var b8=this['_getRootPlayer']();b4=b8['get']('lockedOrientation');b8['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var b6=function(){b5();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],b6);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],b6);this['reload']();}else{b5();}var b7=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',b4);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],b7);var b9=this['_getScriptUrl']();if(this['_currentScriptUrl']!=b9)this['reload']();}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],b7);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],b3);}};TDV['Tour']['LocaleManager']=function(ba,bb,bc,bd){TDV['EventDispatcher']['call'](this);this['rootPlayer']=ba;this['locales']={};this['defaultLocale']=bc;this['queryParam']=bd;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var be in bb){this['registerLocale'](be,bb[be]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(bf,bg){var bh=[bf,bf['split']('-')[0x0]];for(var bi=0x0;bi<bh['length'];++bi){bf=bh[bi];if(!(bf in this['locales'])){this['locales'][bf]=bg;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(bj){delete this['locales'][bj];if(bj==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(bk){return bk in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(bl){var bm=undefined;var bn=bl['split']('-')[0x0];var bo=[bl,bn];for(var bp=0x0;bp<bo['length'];++bp){var br=bo[bp];if(br in this['locales']){bm=br;break;}}if(bm===undefined){for(var br in this['locales']){if(br['indexOf'](bn)==0x0){bm=br;break;}}}if(bm===undefined){bm=this['defaultLocale'];}var bs=this['locales'][bm];if(bs!==undefined&&this['currentLocaleID']!=bm){this['currentLocaleID']=bm;var bt=this;if(typeof bs=='string'){var bu=new XMLHttpRequest();bu['onreadystatechange']=function(){if(bu['readyState']==0x4){if(bu['status']==0xc8){bt['locales'][bm]=bt['currentLocaleMap']=bt['_parsePropertiesContent'](bu['responseText']);bt['dispatchEvent'](bt['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw bs+'\x20can\x27t\x20be\x20loaded';}}};var bv=bs;if(this['queryParam'])bv+=(bv['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];bu['open']('GET',bv);bu['send']();}else{this['currentLocaleMap']=bs;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(bw){var bx=this['currentLocaleMap'][bw];if(arguments['length']>0x2){var by=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var bz=arguments;function bA(bB){return/^\d+$/['test'](bB);}bx=bx['replace'](/\{\{([\w\.]+)\}\}/g,function(bC,bD){if(bA(bD))bD=bz[parseInt(bD)+0x1];else if(by!==undefined)bD=by[bD];if(typeof bD=='string')bD=this['currentLocaleMap'][bD]||bD;else if(typeof bD=='function')bD=bD['call'](this['rootPlayer']);return bD!==undefined?bD:'';}['bind'](this));}return bx;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(bE){bE=bE['replace'](/(^|\n)#[^\n]*/g,'');var bF={};var bG=bE['split']('\x0a');for(var bH=0x0,bI=bG['length'];bH<bI;++bH){var bJ=bG[bH]['trim']();if(bJ['length']==0x0){continue;}var bK=bJ['indexOf']('=');if(bK==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+bH);continue;}var bL=bJ['substr'](0x0,bK)['trim']();var bM=bJ['substr'](bK+0x1)['trim']();var bN;while((bN=bM['lastIndexOf']('\x5c'))!=-0x1&&bN==bM['length']-0x1&&++bH<bI){bM=bM['substr'](0x0,bM['length']-0x2);bJ=bG[bH]['trim']();if(bJ['length']==0x0)break;bM+='\x0a'+bJ;}bF[bL]=bM;}return bF;};TDV['Tour']['HistoryData']=function(bO){this['playList']=bO;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(bP){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==bP){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],bP);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(bQ,bR){for(var bS in bQ){var bT=bQ[bS];if(typeof bT=='object'&&bT!==null)this['assignObjRecursively'](bQ[bS],bR[bS]||(bR[bS]={}));else bR[bS]=bT;}return bR;};TDV['Tour']['Script']['autotriggerAtStart']=function(bU,bV,bW){var bX=function(bY){bV();if(bW==!![])bU['unbind']('change',bX,this);};bU['bind']('change',bX,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(bZ,c0,c1){var c2=function(c9){c3['unbind']('stop',c2,this);if(c1==c5['get']('backgroundColor')&&c8==c5['get']('backgroundColorRatios')){c5['set']('backgroundColor',c6);c5['set']('backgroundColorRatios',c7);}};var c3=bZ['get']('items')[c0];var c4=c3['get']('player');var c5=c4['get']('viewerArea');var c6=c5['get']('backgroundColor');var c7=c5['get']('backgroundColorRatios');var c8=[0x0];if(c1!=c6||c8!=c7){c5['set']('backgroundColor',c1);c5['set']('backgroundColorRatios',c8);c3['bind']('stop',c2,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(ca,cb){var cc=ca['get']('selectedIndex');if(cc>=0x0&&cb>=0x0&&cc!=cb){var cd=ca['get']('items')[cc];var ce=ca['get']('items')[cb];var cf=cd['get']('player');var cg=ce['get']('player');if((cf['get']('class')=='PanoramaPlayer'||cf['get']('class')=='Video360Player')&&(cg['get']('class')=='PanoramaPlayer'||cg['get']('class')=='Video360Player')){var ch=this['cloneCamera'](ce['get']('camera'));this['setCameraSameSpotAsMedia'](ch,cd['get']('media'));this['startPanoramaWithCamera'](ce['get']('media'),ch);}}};TDV['Tour']['Script']['cloneCamera']=function(ci){var cj=this['rootPlayer']['createInstance'](ci['get']('class'));cj['set']('id',ci['get']('id')+'_copy');cj['set']('initialSequence',ci['get']('initialSequence'));cj['set']('idleSequence',ci['get']('idleSequence'));return cj;};TDV['Tour']['Script']['copyObjRecursively']=function(ck){var cl={};for(var cm in ck){var cn=ck[cm];if(typeof cn=='object'&&cn!==null)cl[cm]=this['copyObjRecursively'](ck[cm]);else cl[cm]=cn;}return cl;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(co,cp,cq,cr){var cs=undefined;var ct=function(cw){if(cw['data']['previousSelectedIndex']==cp){if(cr)cr['call'](this);if(cq&&cs)cs['unbind']('end',cq,this);co['unbind']('change',ct,this);}};if(cq){var cu=co['get']('items')[cp];if(cu['get']('class')=='PanoramaPlayListItem'){var cv=cu['get']('camera');if(cv!=undefined)cs=cv['get']('initialSequence');if(cs==undefined)cs=cv['get']('idleSequence');}else{cs=cu['get']('media');}if(cs){cs['bind']('end',cq,this);}}co['bind']('change',ct,this);};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(cx){var cy=cx['get']('buttonPlayPause');if(typeof cy!=='undefined'&&cx['get']('state')=='playing'){if(!Array['isArray'](cy))cy=[cy];for(var cz=0x0;cz<cy['length'];++cz)cy[cz]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(cA){var cB=this['getActivePlayerWithViewer'](cA);if(cB==undefined){return undefined;}return this['getMediaFromPlayer'](cB);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(cC){var cD=this['getCurrentPlayers']();var cE=cD['length'];while(cE-->0x0){var cF=cD[cE];if(cF['get']('viewerArea')==cC){var cG=cF['get']('class');if(cG=='PanoramaPlayer'&&(cF['get']('panorama')!=undefined||cF['get']('video')!=undefined))return cF;else if((cG=='VideoPlayer'||cG=='Video360Player')&&cF['get']('video')!=undefined)return cF;else if(cG=='PhotoAlbumPlayer'&&cF['get']('photoAlbum')!=undefined)return cF;else if(cG=='MapPlayer'&&cF['get']('map')!=undefined)return cF;}}return undefined;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(cH){var cI=undefined;var cJ=undefined;switch(cH['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':cI='PanoramaPlayer';cJ='panorama';break;case'Video360':cI='PanoramaPlayer';cJ='video';break;case'PhotoAlbum':cI='PhotoAlbumPlayer';cJ='photoAlbum';break;case'Map':cI='MapPlayer';cJ='map';break;case'Video':cI='VideoPlayer';cJ='video';break;};if(cI!=undefined){var cK=this['getByClassName'](cI);for(var cL=0x0;cL<cK['length'];++cL){var cM=cK[cL];if(cM['get'](cJ)==cH){return cM;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var cN=this['getByClassName']('PanoramaPlayer');cN=cN['concat'](this['getByClassName']('VideoPlayer'));cN=cN['concat'](this['getByClassName']('Video360Player'));cN=cN['concat'](this['getByClassName']('PhotoAlbumPlayer'));cN=cN['concat'](this['getByClassName']('MapPlayer'));return cN;};TDV['Tour']['Script']['getGlobalAudio']=function(cO){var cP=window['currentGlobalAudios'];if(cP!=undefined&&cO['get']('id')in cP){cO=cP[cO['get']('id')]['audio'];}return cO;};TDV['Tour']['Script']['getMediaByName']=function(cQ){var cR=this['getByClassName']('Media');for(var cS=0x0,cT=cR['length'];cS<cT;++cS){var cU=cR[cS];var cV=cU['get']('data');if(cV&&cV['label']==cQ){return cU;}}return undefined;};TDV['Tour']['Script']['getComponentByName']=function(cW){var cX=this['getByClassName']('UIComponent');for(var cY=0x0,cZ=cX['length'];cY<cZ;++cY){var d0=cX[cY];var d1=d0['get']('data');if(d1!=undefined&&d1['name']==cW){return d0;}}return undefined;};TDV['Tour']['Script']['getMediaFromPlayer']=function(d2){switch(d2['get']('class')){case'PanoramaPlayer':return d2['get']('panorama')||d2['get']('video');case'VideoPlayer':case'Video360Player':return d2['get']('video');case'PhotoAlbumPlayer':return d2['get']('photoAlbum');case'MapPlayer':return d2['get']('map');}};TDV['Tour']['Script']['getMediaWidth']=function(d3){switch(d3['get']('class')){case'Video360':var d4=d3['get']('video');if(d4 instanceof Array){var d5=0x0;for(var d6=0x0;d6<d4['length'];d6++){var d7=d4[d6];if(d7['get']('width')>d5)d5=d7['get']('width');}return d5;}else{return d7['get']('width');}default:return d3['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(d8){switch(d8['get']('class')){case'Video360':var d9=d8['get']('video');if(d9 instanceof Array){var da=0x0;for(var db=0x0;db<d9['length'];db++){var dc=d9[db];if(dc['get']('height')>da)da=dc['get']('height');}return da;}else{return dc['get']('height');}default:return d8['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(dd){switch(dd['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var de=dd['get']('overlays')['concat']()||[];var df=dd['get']('frames');for(var dg=0x0;dg<df['length'];++dg){de=de['concat'](df[dg]['get']('overlays')||[]);}return de;case'Video360':case'Map':return dd['get']('overlays')||[];default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(dh,di){var dj=this['getOverlays'](dh);for(var dk=0x0,dl=dj['length'];dk<dl;++dk){var dm=dj[dk];var dn=dm['get']('data');if(dn!=undefined&&dn['label']==di){return dm;}}return undefined;};TDV['Tour']['Script']['getPixels']=function(dp){var dq=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](dp);if(dq==undefined){return 0x0;}var dr=parseFloat(dq[0x1]);var ds=dq[0x4];var dt=this['rootPlayer']['get']('actualWidth')/0x64;var du=this['rootPlayer']['get']('actualHeight')/0x64;switch(ds){case'vw':return dr*dt;case'vh':return dr*du;case'vmin':return dr*Math['min'](dt,du);case'vmax':return dr*Math['max'](dt,du);default:return dr;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(dv,dw){var dx=[];var dy=this['getByClassName']('PlayList');for(var dz=0x0,dA=dy['length'];dz<dA;++dz){var dB=dy[dz];if(dw&&dB['get']('selectedIndex')==-0x1)continue;if(this['getPlayListItemByMedia'](dB,dv)!=undefined)dx['push'](dB);}return dx;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(dC){var dD=this['getByClassName']('PlayList');var dE=function(dG){var dH=dG['get']('items');for(var dI=dH['length']-0x1;dI>=0x0;--dI){var dJ=dH[dI];var dK=dJ['get']('player');if(dK!==undefined&&dK['get']('viewerArea')==dC)return!![];}return![];};for(var dF=dD['length']-0x1;dF>=0x0;--dF){if(!dE(dD[dF]))dD['splice'](dF,0x1);}return dD;};TDV['Tour']['Script']['getPlayListWithItem']=function(dL){var dM=this['getByClassName']('PlayList');for(var dN=dM['length']-0x1;dN>=0x0;--dN){var dO=dM[dN];var dP=dO['get']('items');for(var dQ=dP['length']-0x1;dQ>=0x0;--dQ){var dR=dP[dQ];if(dR==dL)return dO;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(dS,dT){var dU=this['getPlayListsWithMedia'](dS,dT);return dU['length']>0x0?dU[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(dV,dW){var dX=dV['get']('items');for(var dY=0x0,dZ=dX['length'];dY<dZ;++dY){var e0=dX[dY];if(e0['get']('media')==dW)return e0;}return undefined;};TDV['Tour']['Script']['getPlayListItems']=function(e1,e2){var e3=function(){switch(e1['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Video360':return'Video360PlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Map':return'MapPlayListItem';case'Video':return'VideoPlayListItem';}}();if(e3!=undefined){var e4=this['getByClassName'](e3);for(var e5=e4['length']-0x1;e5>=0x0;--e5){var e6=e4[e5];if(e6['get']('media')!=e1||e2!=undefined&&e6['get']('player')!=e2){e4['splice'](e5,0x1);}}return e4;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(e7){var e8=this['get']('data')['history'][e7['get']('id')];if(e8!=undefined){e8['back']();}};TDV['Tour']['Script']['historyGoForward']=function(e9){var ea=this['get']('data')['history'][e9['get']('id')];if(ea!=undefined){ea['forward']();}};TDV['Tour']['Script']['init']=function(){var eb=this['get']('data')['history'];var ec=function(eh){var ei=eh['source'];var ej=ei['get']('selectedIndex');if(ej<0x0)return;var ek=ei['get']('id');if(!eb['hasOwnProperty'](ek))eb[ek]=new TDV['Tour']['HistoryData'](ei);eb[ek]['add'](ej);};var ed=this['getByClassName']('PlayList');for(var ee=0x0,ef=ed['length'];ee<ef;++ee){var eg=ed[ee];eg['bind']('change',ec,this);}};TDV['Tour']['Script']['initGA']=function(){var el=function(eN,eO,eP){ga('send','event',eN,eO,eP);};var en=this['getByClassName']('Panorama');en=en['concat'](this['getByClassName']('Video360'));en=en['concat'](this['getByClassName']('Map'));for(var eq=0x0,et=en['length'];eq<et;++eq){var eu=en[eq];var ew=eu['get']('data');var ex=ew?ew['label']:undefined;var ey=this['getOverlays'](eu);for(var ez=0x0,eA=ey['length'];ez<eA;++ez){var eB=ey[ez];var eC=eB['get']('data')!=undefined?ex+'\x20-\x20'+eB['get']('data')['label']:ex;switch(eB['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var eD=eB['get']('areas');for(var eE=0x0;eE<eD['length'];++eE){eD[eE]['bind']('click',el['bind'](this,'Hotspot','click',eC),this,!![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':eB['bind']('click',el['bind'](this,'Cap','click',eC),this,!![]);break;case'VideoPanoramaOverlay':eB['bind']('click',el['bind'](this,'Hotspot','click',eC),this,!![]);eB['bind']('start',el['bind'](this,'Hotspot','start',eC),this,!![]);break;}}}var eF=this['getByClassName']('UIComponent');for(var eq=0x0,et=eF['length'];eq<et;++eq){var eG=eF[eq];var eH=eG['getBindings']('click');if(eH['length']>0x0){var eI=eG['get']('data')['name'];eG['bind']('click',el['bind'](this,'Skin','click',eI),this,!![]);}}var eJ=this['getByClassName']('PlayListItem');var eK={};for(var eq=0x0,et=eJ['length'];eq<et;++eq){var eL=eJ[eq];var en=eL['get']('media');if(!(en['get']('id')in eK)){var ew=en['get']('data');eL['bind']('begin',el['bind'](this,'Media','play',ew?ew['label']:undefined),this,!![]);eK[en['get']('id')]=eL;}}if(TDV['Remote']!=undefined){var eM=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(eQ){eM=Date['now']();el('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+eQ);});TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(eR){var eS=new Date();eS['setTime'](Date['now']()-eM);el('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+eR+'\x20Duration:\x20'+eS['toUTCString']()['split']('\x20')[0x4]);});}};TDV['Tour']['Script']['initQuiz']=function(eT,eU,eV){var eW={'question':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.2},'window':{'width':'60%','height':'60%','backgroundColor':'#ffffff','backgroundOpacity':0.9,'borderRadius':0x5,'horizontalAlign':'center','minWidth':0x1f4,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'shadowBlurRadius':0x4,'shadow':!![],'shadowColor':'#000000','shadowOpacity':0.3,'shadowHorizontalLength':0x0,'shadowVerticalLength':0x0,'shadowSpread':0x4,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'600','paddingLeft':0x32,'paddingRight':0x32,'paddingBottom':0x28,'paddingTop':0x19,'textAlign':'center'},'buttonsContainer':{'horizontalAlign':'right','verticalAlign':'bottom','button':{'backgroundColor':'#000000','backgroundOpacity':0.7,'borderRadius':0x3,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xa,'paddingBottom':0xa,'verticalAlign':'middle'}},'bodyContainer':{'width':'100%','height':'100%','gap':0x23,'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e,'paddingBottom':0x1e},'mediaContainer':{'width':'70%','height':'100%','buttonNext':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=','width':0x19,'height':0x25},'buttonPrevious':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC','width':0x19,'height':0x25},'viewerArea':{'playbackBarBackgroundColor':'#000000','playbackBarBackgroundOpacity':0.5,'playbackBarBorderRadius':0x0,'playbackBarBorderSize':0x0,'playbackBarBottom':0x5,'playbackBarHeight':0x6,'playbackBarLeft':0x0,'playbackBarRight':0x0,'playbackBarProgressBackgroundColor':'#3399ff','playbackBarProgressOpacity':0.5,'playbackBarHeadBackgroundColor':'#cccccc','playbackBarHeadBorderColor':'#ffffff','playbackBarHeadBorderRadius':0x7,'playbackBarHeadBorderSize':0x3,'playbackBarHeadOpacity':0x1,'playbackBarHeadWidth':0xe,'playbackBarHeadHeight':0xe,'playbackBarHeadShadow':!![],'playbackBarHeadShadowBlurRadius':0x2,'playbackBarHeadShadowColor':'#000000','playbackBarHeadShadowHorizontalLength':0x0,'playbackBarHeadShadowOpacity':0.3,'playbackBarHeadShadowSpread':0x2,'playbackBarHeadShadowVerticalLength':0x0,'backgroundColor':'#e6e6e6','backgroundOpacity':0x1}},'optionsContainer':{'gap':0xa,'width':'30%','height':'100%','overflow':'scroll','contentOpaque':!![]},'option':{'gap':0xa,'text':{'fontColor':'#404040','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left','verticalAlign':'middle','selected':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left'}},'label':{'borderRadius':0x13,'backgroundColor':'#000000','backgroundOpacity':0.2,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26,'correct':{'borderRadius':0x13,'backgroundColor':'#39b54a','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26},'incorrect':{'borderRadius':0x13,'backgroundColor':'#ed1c24','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26}}},'closeButton':{'backgroundColor':'#009FE3','height':0x2d,'iconColor':'#FFFFFF','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d}}},'score':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','minWidth':0x1f4,'maxWidth':0x5dc,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'content':{'width':'100%','horizontalAlign':'center'},'closeButton':{'backgroundColor':'#009fe3','height':0x2d,'iconColor':'#ffffff','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x32,'fontWeight':'800','paddingBottom':0xf,'paddingTop':0x32,'textAlign':'center'},'description':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x10,'fontWeight':'400','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'textAlign':'center'},'statsContainer':{'gap':0x14,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'verticalAlign':'middle','overflow':'scroll','contentOpaque':!![]},'stats':{'borderColor':'#009fe3','borderSize':0x1,'borderRadius':0x4b,'gap':0x0,'height':0x96,'horizontalAlign':'center','layout':'vertical','verticalAlign':'middle','minWidth':0x96,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'400','paddingTop':0xa,'paddingLeft':0x5,'paddingRight':0x5},'mainValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'700'},'secondaryValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'700'},'label':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0xf,'fontWeight':'400'}},'calification':{'fontColor':'#009fe3','fontFamily':'Arial','fontSize':0x1e,'fontWeight':'700','textAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xa,'paddingTop':0xf,'verticalAlign':'middle','width':'100%'},'timeContainer':{'gap':0x5,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xa,'verticalAlign':'middle','width':'100%'},'buttonsContainer':{'gap':0x8,'paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0x32,'paddingTop':0x23,'horizontalAlign':'center','verticalAlign':'middle','width':'100%','button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'}}}},'timeout':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','gap':0xf,'paddingBottom':0x37,'paddingLeft':0x50,'paddingRight':0x50,'paddingTop':0x2d,'icon':{'height':0x48,'url':'data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAUAAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAAgICAgICAgICAgMCAgIDBAMCAgMEBQQEBAQEBQYFBQUFBQUGBgcHCAcHBgkJCgoJCQwMDAwMDAwMDAwMDAwMDAEDAwMFBAUJBgYJDQsJCw0PDg4ODg8PDAwMDAwPDwwMDAwMDA8MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgASAA+AwERAAIRAQMRAf/EAHQAAAICAwEBAAAAAAAAAAAAAAUGAAQCAwcBCQEBAAAAAAAAAAAAAAAAAAAAABAAAQMDAgMHAwMBCQAAAAAAAQIDBAARBSExQRITUWFxkbEiBoGhFFJiIzLB0UJygqJDYyQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APv5QSglBydzJZHqOf8AvkD3HQOqA37AaAjhZ85zJxG3Jjzja1EKQtxSgfaeBNB0eglBKANl8w1jGwkAOylj+NnsH6ld1BliMqjKMrVydN9mweQNtb2IPfagkzOY6EShb3VdTu017j9TsPOgQspNiTHELiQxFCebnItdZPEgCgu4fKwcekfkQuo8FEplJCSoAi1he3rQO8PKQZ+kd8Fe5aV7VeR3+lAMzGeGOdTHZbDz+inea4SlJ2GnE0FtOaiLxzmRTdSWQOqyP6kqJACT4k70CtmMLkPzJEhtKpTTpU51Li6Rvym54DagAMy5Mdt1pl5TSHwA6lJte1AQx+Em5ABxCQywf+degP8AlG5oGRr4lEAHWlPLVxKAlI+4VQYP/EmSD+NLWlXAOgKHmLelArTMfNxjiesko1u0+gnlJHYrTWg0uOyp8hBcUqRIc5W0Xtc8AKAyxgskmHNWptSFrSltuMCLrPUSSTrawtQHfk88x4yIjSrOSr9Qjg2N/M0ADAYkT3i++LxY5F0/rVvy+HbQPU5yRHhuKgsB15AAaatpa4GgFthwoKj7M/IYxpIc/AmL5VOBJI23FxqL70Hs5zJRIcZMNsTZCeRD61AkmwsVWuNzQEHWW5TBZkthSXUjqNnWx7j3dtBzDJwHMZMU1clH9cd3YlPD6igcUZhxeAdnJsZLIDTncskJ5v8AcDQLPyN0u5V8HZlKG0+HKCfuTQO+GYEbGRE2sVoDiz3r92vhe1B5jse5DclurmKlJlK5kg8N+8660HuQy8THKQh7nW64LpabAKrdupAoFub8pdc/jx7Jb5tA64AVa9iRcetBcw+PmtyBkslIUhxwFCGVq9yub9V9u4UGz5VHDkJqRb3sOWv+1eh+4FArQ3iMXmI99FJZcA7CHUg+ooJnkFGWmA8VJUP9SQaB9jtonYdhrnKUPxkIKk7j2gH70GzGx2IcYQ2ZAfMckOG4JCiSbEDbwoBmShz28i1lMe0iQtLfTWys2tuLi5Hb20GWHxKo6nps1pH5r6ytKRYhsHU2toCSeFBZyUGFknWGHpPTfYJWllC0hZSbX9pueG9BW+TrCMWtJ3dcQlP0PN/ZQJURJMLLK4BlsE95eRb0oDvyuIUvMTUj2OJ6Th7FDUeY9KC38XyCVsqx7irONErY70nUj6HWgJmNDwjc7IoS64XLKcRcHdWydBxPGguNZGM5BbnuK/HYcF/5NCNbW86DVkMozAitS+QyG3lJCCg6WUL3v4CgyRAiuy2sryrTIU2OUE2Aum2o7bG1An/JsgmTJTFaVzNRb86hsVnfy2oNkeEtr41PfKTzyihYH/WhabH1NA6zIrU2O7GeF0OC1+IPAjwoOYSosvEywlRLbrZ5mXk7KHAigbcf8ljPoDOQAZdtYu2u2rx7PSgPOtQslH6JKH45sQG1aC21ik0HqnYMFlDTjrbDTSQlCFqGw20OpoFTK/JeolUfHXSFaLkkWNv2jh4mgD4fEuZJ8FQKYrZ/nc7f2jvNB0zpt9Po8g6XLydO2nLa1reFBnQVZkKNOaLMlsLT/hVspJ7QeFAlTPi0tolUNYkt8EKISseeh86AKvFZJB5TAfJ/a2pQ8wDQZtYjJunlTBeB7VpKB5qtQMEH4qolLk90BO/QbNye4q/uoHJplphtLTKA22gWShOgFBsoP//Z','width':0x3e},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'800','textAlign':'center','paddingBottom':0x14},'button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'},'buttonsContainer':{'horizontalAlign':'center','width':'100%','gap':0xa}}}};eT['theme']='theme'in eT?this['mixObject'](eW,eT['theme']):eW;if(eT['player']['get']('isMobile')){var eX=this['mixObject'](eT['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14,'paddingLeft':0xa,'paddingRight':0xa}}}});eT['theme']=eX;}var eY=this['get']('data');var eZ=document['getElementById']('metaViewport');var f0=eZ?/initial-scale=(\d+(\.\d+)?)/['exec'](eZ['getAttribute']('content')):undefined;var f1=f0?f0[0x1]:0x1;eY['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/f1,'maxHeight':0x258/f1,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'}}}};var f2=new TDV['Quiz'](eT);f2['setMaxListeners'](0x32);if(eV===!![]){f2['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((f2['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+f2['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(f2['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+f2['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)f2['finish']();}['bind'](this));}if(eU===!![])f2['start']();eY['quiz']=f2;};TDV['Tour']['Script']['isCardboardViewMode']=function(){var f3=this['getByClassName']('PanoramaPlayer');return f3['length']>0x0&&f3[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(f4){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](f4['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(f5,f6){var f7='keepVisibility_'+f5['get']('id');var f8=this['getKey'](f7);if(f8==undefined&&f6){this['registerKey'](f7,f6);}else if(f8!=undefined&&!f6){this['unregisterKey'](f7);}};TDV['Tour']['Script']['_initItemWithComps']=function(f9,fa,fb,fc,fd,fe,ff,fg){var fh=f9['get']('items')[fa];var fi=fh['get']('media');var fj=fi['get']('loop')==undefined||fi['get']('loop');var fk=fg>0x0;var fl=this['rootPlayer'];var fm=function(fu){var fv=fe?fe['get']('class'):undefined;var fw=undefined;switch(fv){case'FadeInEffect':case'FadeOutEffect':fw=fl['createInstance'](fu?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':fw=fl['createInstance'](fu?'SlideInEffect':'SlideOutEffect');break;}if(fw){fw['set']('duration',fe['get']('duration'));fw['set']('easing',fe['get']('easing'));if(fv['indexOf']('Slide')!=-0x1)fw['set'](fu?'from':'to',fe['get'](fe['get']('class')=='SlideInEffect'?'from':'to'));}return fw;};var fn=function(){for(var fx=0x0,fy=fb['length'];fx<fy;++fx){var fz=fb[fx];if(fg>0x0){this['setComponentVisibility'](fz,!fd,0x0,fm(!fd));}else{var fA='visibility_'+fz['get']('id');if(this['existsKey'](fA)){if(this['getKey'](fA))this['setComponentVisibility'](fz,!![],0x0,fm(!![]));else this['setComponentVisibility'](fz,![],0x0,fm(![]));this['unregisterKey'](fA);}}}fh['unbind']('end',fn,this);if(!fj)fi['unbind']('end',fn,this);};var fo=function(){fh['unbind']('stop',fo,this,!![]);fh['unbind']('stop',fo,this);fh['unbind']('begin',fo,this,!![]);fh['unbind']('begin',fo,this);for(var fB=0x0,fC=fb['length'];fB<fC;++fB){this['keepCompVisible'](fb[fB],![]);}};var fp=function(fD,fE,fF){var fG=function(){var fH=function(fL,fM,fN){fl['setComponentVisibility'](fL,fM,fE,fN,fM?'showEffect':'hideEffect',![]);if(fF>0x0){var fO=fE+fF+(fN!=undefined?fN['get']('duration'):0x0);fl['setComponentVisibility'](fL,!fM,fO,fm(!fM),fM?'hideEffect':'showEffect',!![]);}};for(var fI=0x0,fJ=fb['length'];fI<fJ;++fI){var fK=fb[fI];if(fd=='toggle'){if(!fK['get']('visible'))fH(fK,!![],fm(!![]));else fH(fK,![],fm(![]));}else{fH(fK,fd,fm(fd));}}fh['unbind'](fD,fG,this);if(fD=='end'&&!fj)fi['unbind'](fD,fG,this);};fh['bind'](fD,fG,this);if(fD=='end'&&!fj)fi['bind'](fD,fG,this);};if(fc=='begin'){for(var fq=0x0,fr=fb['length'];fq<fr;++fq){var fs=fb[fq];this['keepCompVisible'](fs,!![]);if(fk){var ft='visibility_'+fs['get']('id');this['registerKey'](ft,fs['get']('visible'));}}fh['bind']('stop',fo,this,!![]);fh['bind']('stop',fo,this);fh['bind']('begin',fo,this,!![]);fh['bind']('begin',fo,this);if(fk){fh['bind']('end',fn,this);if(!fj)fi['bind']('end',fn,this);}}else if(fc=='end'&&fg>0x0){fp('begin',fg,0x0);fg=0x0;}if(fc!=undefined)fp(fc,ff,fg);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(fP,fQ){var fR=fP['get']('selectedIndex');var fS=fP['get']('items')['length'];var fT=(fR+fQ)%fS;while(fT<0x0){fT=fS+fT;}if(fR!=fT){fP['set']('selectedIndex',fT);}};TDV['Tour']['Script']['mixObject']=function(fU,fV){return this['assignObjRecursively'](fV,this['copyObjRecursively'](fU));};TDV['Tour']['Script']['openLink']=function(fW,fX){if(!fW||fW==location['href']){return;}var fY=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(fX=='_blank'&&fY){if(fW['startsWith']('/')){var fZ=window['location']['href']['split']('/');fZ['pop']();fW=fZ['join']('/')+fW;}var g0=fW['split']('.')['pop']()['toLowerCase']();if(g0!='pdf'||fW['startsWith']('file://')){var g1=window['require']('electron')['shell'];g1['openExternal'](fW);}else{window['open'](fW,fX);}}else if(fY&&(fX=='_top'||fX=='_self')){window['location']=fW;}else{var g2=window['open'](fW,fX);g2['focus']();}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(g3){var g4=this['getCurrentPlayers']();var g5=g4['length'];while(g5-->0x0){var g6=g4[g5];if(g6['get']('state')=='playing'||g6['get']('viewerArea')&&g6['get']('viewerArea')['get']('id')==this['MainViewer']||g6['get']('camera')&&g6['get']('camera')['get']('idleSequence')&&g6['get']('camera')['get']('timeToIdle')>0x0){var g7=this['getMediaFromPlayer'](g6);if(g3&&g7['get']('class')!='Video360'&&'pauseCamera'in g6){g6['pauseCamera']();}else{g6['pause']();}}else{g4['splice'](g5,0x1);}}return g4;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(g8,g9,ga){var gb=function(){if(g8['get']('selectedIndex')!=g9){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](ga);this['executeFunctionWhenChange'](g8,g9,gb,gb);};TDV['Tour']['Script']['pauseGlobalAudios']=function(gc){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var gd=this['getByClassName']('VideoPanoramaOverlay');for(var gf=gd['length']-0x1;gf>=0x0;--gf){var gg=gd[gf];var gh=gg['get']('data');if(gh&&gh['hasAudio']==![])gd['splice'](gf,0x1);}var gi=this['getByClassName']('Audio')['concat'](gd);if(window['currentGlobalAudios']!=undefined)gi=gi['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(gm){return gm['audio'];}));var gj=[];for(var gf=0x0,gk=gi['length'];gf<gk;++gf){var gl=gi[gf];if(gl['get']('state')=='playing'&&(gc==undefined||gc['indexOf'](gl)==-0x1)){gl['pause']();gj['push'](gl);}}window['pausedAudiosLIFO']['push'](gj);return gj;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;var gn=window['pausedAudiosLIFO']['pop']();for(var go=0x0,gp=gn['length'];go<gp;++go){var gq=gn[go];if(gq['get']('state')=='paused')gq['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(gr){var gs=window['currentGlobalAudios'];if(gs){var gt=gs[gr['get']('id')];if(gt)gr=gt['audio'];}if(gr['get']('state')=='playing')gr['pause']();};TDV['Tour']['Script']['playAudioList']=function(gu,gv){if(gu['length']==0x0)return;var gw=-0x1;var gx;var gy=this['playGlobalAudio'];var gz=function(){if(++gw>=gu['length']){if(!gv)return;gw=0x0;}gx=gu[gw];gy(gx,gz,!![]);};gz();};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(gA,gB,gC,gD,gE){var gF=function(gR){if(gR['data']['previousSelectedIndex']==gB){this['stopGlobalAudio'](gC);if(gJ){var gS=gI['get']('media');var gT=gS['get']('audios');gT['splice'](gT['indexOf'](gC),0x1);gS['set']('audios',gT);}gA['unbind']('change',gF,this);if(gD)gD();}};var gH=window['currentGlobalAudios'];if(gH&&gC['get']('id')in gH){gC=gH[gC['get']('id')]['audio'];if(gC['get']('state')!='playing'){gC['play']();}return gC;}gA['bind']('change',gF,this);var gI=gA['get']('items')[gB];var gJ=gI['get']('class')=='PanoramaPlayListItem';if(gJ){var gK=gI['get']('media');var gH=(gK['get']('audios')||[])['slice']();if(gC['get']('class')=='MediaAudio'){var gL=this['rootPlayer']['createInstance']('PanoramaAudio');gL['set']('autoplay',![]);gL['set']('audio',gC['get']('audio'));gL['set']('loop',gC['get']('loop'));gL['set']('id',gC['get']('id'));var gM=gC['getBindings']('stateChange');for(var gN=0x0;gN<gM['length'];++gN){var gO=gM[gN];if(typeof gO=='string')gO=new Function('event',gO);gL['bind']('stateChange',gO,this);}gC=gL;}gH['push'](gC);gK['set']('audios',gH);}var gP=this['playGlobalAudio'](gC,gD);if(gE===!![]){var gQ=function(){if(gP['get']('state')=='playing'){this['pauseGlobalAudios']([gP]);}else if(gP['get']('state')=='stopped'){this['resumeGlobalAudios']();gP['unbind']('stateChange',gQ,this);}};gP['bind']('stateChange',gQ,this);}return gP;};TDV['Tour']['Script']['playGlobalAudio']=function(gU,gV,gW){var gX=function(){gU['unbind']('end',gX,this);this['stopGlobalAudio'](gU);if(gV)gV['call'](this);};gU=this['getGlobalAudio'](gU);var gY=window['currentGlobalAudios'];if(!gY){gY=window['currentGlobalAudios']={};}gY[gU['get']('id')]={'audio':gU,'asBackground':gW||![]};if(gU['get']('state')=='playing'){return gU;}if(!gU['get']('loop')){gU['bind']('end',gX,this);}gU['play']();return gU;};TDV['Tour']['Script']['resumePlayers']=function(gZ,h0){for(var h1=0x0;h1<gZ['length'];++h1){var h2=gZ[h1];var h3=this['getMediaFromPlayer'](h2);if(!h3)continue;if(h0&&h3['get']('class')!='Video360'&&'pauseCamera'in h2){h2['resumeCamera']();}else{h2['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(h4){var h5=window['currentGlobalAudios'];var h6=this;if(h5){Object['keys'](h5)['forEach'](function(h7){var h8=h5[h7];if(!h4||h4&&!h8['asBackground']){h6['stopGlobalAudio'](h8['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(h9){var ha=window['currentGlobalAudios'];if(ha){var hb=ha[h9['get']('id')];if(hb){h9=hb['audio'];delete ha[h9['get']('id')];if(Object['keys'](ha)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(h9)h9['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(hc,hd){var he=this['getCurrentPlayerWithMedia'](hd);if(he!=undefined){var hf=hc['get']('initialPosition');hf['set']('yaw',he['get']('yaw'));hf['set']('pitch',he['get']('pitch'));hf['set']('hfov',he['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(hg,hh,hi,hj,hk,hl){var hm=this['getKey']('keepVisibility_'+hg['get']('id'));if(hm)return;this['unregisterKey']('visibility_'+hg['get']('id'));var hn=function(){if(hj&&hk){hg['set'](hk,hj);}hg['set']('visible',hh);if(hg['get']('class')=='ViewerArea'){try{if(hh)hg['restart']();else if(hg['get']('playbackState')=='playing')hg['pause']();}catch(hs){};}};var ho='effectTimeout_'+hg['get']('id');if(!hl&&window['hasOwnProperty'](ho)){var hq=window[ho];if(hq instanceof Array){for(var hr=0x0;hr<hq['length'];hr++){clearTimeout(hq[hr]);}}else{clearTimeout(hq);}delete window[ho];}else if(hh==hg['get']('visible')&&!hl)return;if(hi&&hi>0x0){var hq=setTimeout(function(){if(window[ho]instanceof Array){var ht=window[ho];var hu=ht['indexOf'](hq);ht['splice'](hu,0x1);if(ht['length']==0x0){delete window[ho];}}else{delete window[ho];}hn();},hi);if(window['hasOwnProperty'](ho)){window[ho]=[window[ho],hq];}else{window[ho]=hq;}}else{hn();}};TDV['Tour']['Script']['setLocale']=function(hv){this['stopTextToSpeech']();this['get']('data')['localeManager']['setLocale'](hv);};TDV['Tour']['Script']['setEndToItemIndex']=function(hw,hx,hy){var hz=function(){if(hw['get']('selectedIndex')==hx){var hA=hw['get']('items')[hy];var hB=hA['get']('player');if(hB){var hC=hB['get']('viewerArea');if(hC&&hC['get']('translationTransitionEnabled')==!![]){var hD=function(hE){var hF=hE['source'];hF['unbind']('begin',hD,this);hC['set']('translationTransitionEnabled',!![]);};hC['set']('translationTransitionEnabled',![]);hA['bind']('begin',hD,this);}}hw['set']('selectedIndex',hy);}};this['executeFunctionWhenChange'](hw,hx,hz);};TDV['Tour']['Script']['setMapLocation']=function(hG,hH){var hI=function(){hG['unbind']('stop',hI,this);hJ['set']('mapPlayer',null);};hG['bind']('stop',hI,this);var hJ=hG['get']('player');hJ['set']('mapPlayer',hH);};TDV['Tour']['Script']['setMainMediaByIndex']=function(hK){var hL=undefined;if(hK>=0x0&&hK<this['mainPlayList']['get']('items')['length']){this['mainPlayList']['set']('selectedIndex',hK);hL=this['mainPlayList']['get']('items')[hK];}return hL;};TDV['Tour']['Script']['setMainMediaByName']=function(hM){var hN=this['_getPlayListsWithViewer'](this['MainViewer']);for(var hO=0x0,hP=hN['length'];hO<hP;++hO){var hQ=hN[hO];var hR=hQ['get']('items');for(var hS=0x0,hT=hR['length'];hS<hT;++hS){var hU=hR[hS];var hV=hU['get']('media')['get']('data');if(hV!==undefined&&hV['label']==hM&&hU['get']('player')['get']('viewerArea')==this['MainViewer']){hQ['set']('selectedIndex',hS);return hU;}}}};TDV['Tour']['Script']['setMediaBehaviour']=function(hW,hX,hY,hZ){var i0=this;var i1=function(iq){if(iq['data']['state']=='stopped'&&hZ){i5['call'](this,!![]);}};var i2=function(){ib['unbind']('begin',i2,i0);var ir=ib['get']('media');if(ir['get']('class')!='Panorama'||ir['get']('camera')!=undefined&&ir['get']('camera')['get']('initialSequence')!=undefined){ic['bind']('stateChange',i1,i0);}};var i3=function(){var is=i8['get']('selectedIndex');if(is!=-0x1){ia=is;i5['call'](this,![]);}};var i4=function(){i5['call'](this,![]);};var i5=function(it){if(!i8)return;var iu=ib['get']('media');if((iu['get']('class')=='Video360'||iu['get']('class')=='Video')&&iu['get']('loop')==!![]&&!it)return;hW['set']('selectedIndex',-0x1);if(ik&&ij!=-0x1){if(ik){if(ij>0x0&&ik['get']('movements')[ij-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var iv=il['get']('initialPosition');var iw=iv['get']('yaw');var ix=iv['get']('pitch');var iy=iv['get']('hfov');var iz=ik['get']('movements')[ij-0x1];iv['set']('yaw',iz['get']('targetYaw'));iv['set']('pitch',iz['get']('targetPitch'));iv['set']('hfov',iz['get']('targetHfov'));var iA=function(iD){iv['set']('yaw',iw);iv['set']('pitch',ix);iv['set']('hfov',iy);ie['unbind']('end',iA,this);};ie['bind']('end',iA,this);}ik['set']('movementIndex',ij);}}if(ic){ib['unbind']('begin',i2,this);ic['unbind']('stateChange',i1,this);for(var iB=0x0;iB<im['length'];++iB){im[iB]['unbind']('click',i4,this);}}if(ii){var iC=this['getMediaFromPlayer'](ic);if(iC==undefined||iC==ib['get']('media')){i8['set']('selectedIndex',ia);}if(hW!=i8)i8['unbind']('change',i3,this);}else{ig['set']('visible',ih);}i8=undefined;};if(!hY){var i6=hW['get']('selectedIndex');var i7=i6!=-0x1?hW['get']('items')[hW['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['MainViewer']);if(i7){hY=this['getMediaFromPlayer'](i7);}}var i8=undefined;if(hY){var i9=this['getPlayListsWithMedia'](hY,!![]);i8=i9['indexOf'](hW)!=-0x1?hW:i9['length']>0x0?i9[0x0]:undefined;}if(!i8){hW['set']('selectedIndex',hX);return;}var ia=i8['get']('selectedIndex');var ib=hW['get']('items')[hX];var ic=ib['get']('player');var id=this['getMediaFromPlayer'](ic);if(hW['get']('selectedIndex')==hX&&id==ib['get']('media')||ia==-0x1){return;}if(hW['get']('selectedIndex')==hX&&id!=ib['get']('media'))hW['set']('selectedIndex',-0x1);var ie=i8['get']('items')[ia];var ig=ic['get']('viewerArea');var ih=ig['get']('visible');var ii=ig==ie['get']('player')['get']('viewerArea');if(ii){if(hW!=i8){i8['set']('selectedIndex',-0x1);i8['bind']('change',i3,this);}}else{ig['set']('visible',!![]);}var ij=-0x1;var ik=undefined;var il=ie['get']('camera');if(il){ik=il['get']('initialSequence');if(ik){ij=ik['get']('movementIndex');}}hW['set']('selectedIndex',hX);var im=[];var io=function(iE){var iF=ic['get'](iE);if(iF==undefined)return;if(Array['isArray'](iF))im=im['concat'](iF);else im['push'](iF);};io('buttonStop');for(var ip=0x0;ip<im['length'];++ip){im[ip]['bind']('click',i4,this);}ib['bind']('begin',i2,i0);hZ;this['executeFunctionWhenChange'](hW,hX,hZ?i4:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(iG,iH,iI,iJ){var iK=function(){switch(iI){case'triggerClick':this['triggerOverlay'](iG,'click');break;case'stop':case'play':case'pause':iG[iI]();break;case'togglePlayPause':case'togglePlayStop':if(iG['get']('state')=='playing')iG[iI=='togglePlayPause'?'pause':'stop']();else iG['play']();break;}if(iJ){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var iP=iG['get']('id');window['overlaysDispatched'][iP]=!![];setTimeout(function(){delete window['overlaysDispatched'][iP];},0x3e8);}};if(iJ&&window['overlaysDispatched']!=undefined&&iG['get']('id')in window['overlaysDispatched'])return;var iL=this['getFirstPlayListWithMedia'](iH,!![]);if(iL!=undefined){var iM=this['getPlayListItemByMedia'](iL,iH);var iN=iM['get']('player');if(iL['get']('items')['indexOf'](iM)!=iL['get']('selectedIndex')||this['isPanorama'](iM['get']('media'))&&iN['get']('rendererPanorama')!=iM['get']('media')){var iO=function(iQ){iM['unbind']('begin',iO,this);iK['call'](this);};iM['bind']('begin',iO,this);return;}}iK['call'](this);};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(iR){var iS=this['getActiveMediaWithViewer'](this['MainViewer']);if(iS!=undefined&&(iS['get']('class')['indexOf']('Panorama')!=-0x1||iS['get']('class')=='Video360')){var iT=iR['get']('media');var iU=this['cloneCamera'](iR['get']('camera'));this['setCameraSameSpotAsMedia'](iU,iS);this['startPanoramaWithCamera'](iT,iU);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(iV,iW,iX,iY,iZ){var j0=iV['get']('selectedIndex');var j1=iV['get']('items');var j2=iW['get']('player');if(j1[j0]==iW||j2['get']('rendererPanorama')==iW['get']('media')){j2['moveTo'](iX||j2['get']('yaw'),iY||j2['get']('pitch'),j2['get']('roll'),iZ||j2['get']('hfov'));}else{var j3=iW['get']('media');var j4=this['cloneCamera'](iW['get']('camera'));var j5=j4['get']('initialPosition');j5['set']('yaw',iX);j5['set']('pitch',iY);if(iZ)j5['set']('hfov',iZ);this['startPanoramaWithCamera'](j3,j4);}};TDV['Tour']['Script']['setValue']=function(j6,j7,j8){if('set'in j6)j6['set'](j7,j8);else j6[j7]=j8;};TDV['Tour']['Script']['setStartTimeVideo']=function(j9,ja){var jb=this['getPlayListItems'](j9);var jc=[];var jd=function(){for(var jh=0x0;jh<jb['length'];++jh){var ji=jb[jh];ji['set']('startTime',jc[jh]);ji['unbind']('stop',jd,this);}};for(var je=0x0;je<jb['length'];++je){var jf=jb[je];var jg=jf['get']('player');if(jg['get']('video')==j9&&jg['get']('state')=='playing'){jg['seek'](ja);}else{jc['push'](jf['get']('startTime'));jf['set']('startTime',ja);jf['bind']('stop',jd,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(jj,jk){if(jj&&jk)this['setStartTimeVideo'](jj,jk['get']('currentTime'));};TDV['Tour']['Script']['shareSocial']=function(jl,jm,jn,jo){if(jn){this['updateDeepLink']();}if(jm==undefined){jm=jn?location['href']:location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}else if(jn){jm+=location['hash'];}jm=function(jq){switch(jq){case'fb':var jr=jm['indexOf']('?')!=-0x1;jm=jm['replace']('#','?');if(jr){var js=jm['lastIndexOf']('?');jm=jm['substring'](0x0,js)+'&'+jm['substring'](js+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(jm);case'li':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(jm);case'pt':return'https://pinterest.com/pin/create/button/?url='+jm;case'tw':return'https://twitter.com/intent/tweet?source=webclient&url='+jm;case'wa':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(jm);default:return undefined;}}(jl);if(jo){for(var jp in jo){jm+='&'+jp+'='+jo[jp];}}this['openLink'](jm,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(jt,ju,jv){var jw=function(jA){for(var jB=0x0,jC=ju['length'];jB<jC;jB++){var jD=ju[jB];if(jD['get']('class')=='HTMLText'&&(jD['get']('html')==''||jD['get']('html')==undefined)){continue;}jD['set']('visible',jA);}};if(this['rootPlayer']['get']('touchDevice')==!![]){jw(!![]);}else{var jx=-0x1;var jy=function(){jw(!![]);if(jx>=0x0)clearTimeout(jx);jt['unbind']('rollOver',jy,this);jt['bind']('rollOut',jz,this);};var jz=function(){var jE=function(){jw(![]);jt['unbind']('rollOver',jy,this);};jt['unbind']('rollOut',jz,this);jt['bind']('rollOver',jy,this);jx=setTimeout(jE,jv);};jt['bind']('rollOver',jy,this);}};TDV['Tour']['Script']['showPopupMedia']=function(jF,jG,jH,jI,jJ,jK){var jL=this;var jM=function(){jH['set']('selectedIndex',-0x1);jL['MainViewer']['set']('toolTipEnabled',!![]);this['resumePlayers'](jR,!![]);if(jQ){this['unbind']('resize',jO,this);}jF['unbind']('close',jM,this);};var jN=function(){jF['hide']();};var jO=function(){var jS=function(k9){return jF['get'](k9)||0x0;};var jT=jL['get']('actualWidth');var jU=jL['get']('actualHeight');var jV=jL['getMediaWidth'](jG);var jW=jL['getMediaHeight'](jG);var jX=parseFloat(jI)/0x64;var jY=parseFloat(jJ)/0x64;var jZ=jX*jT;var k0=jY*jU;var k1=jS('footerHeight');var k2=jS('headerHeight');if(!k2){var k3=jS('closeButtonIconHeight')+jS('closeButtonPaddingTop')+jS('closeButtonPaddingBottom');var k4=jL['getPixels'](jS('titleFontSize'))+jS('titlePaddingTop')+jS('titlePaddingBottom');k2=k3>k4?k3:k4;k2+=jS('headerPaddingTop')+jS('headerPaddingBottom');}var k5=jZ-jS('bodyPaddingLeft')-jS('bodyPaddingRight')-jS('paddingLeft')-jS('paddingRight');var k6=k0-k2-k1-jS('bodyPaddingTop')-jS('bodyPaddingBottom')-jS('paddingTop')-jS('paddingBottom');var k7=k5/k6;var k8=jV/jW;if(k7>k8){jZ=k6*k8+jS('bodyPaddingLeft')+jS('bodyPaddingRight')+jS('paddingLeft')+jS('paddingRight');}else{k0=k5/k8+k2+k1+jS('bodyPaddingTop')+jS('bodyPaddingBottom')+jS('paddingTop')+jS('paddingBottom');}if(jZ>jT*jX){jZ=jT*jX;}if(k0>jU*jY){k0=jU*jY;}jF['set']('width',jZ);jF['set']('height',k0);jF['set']('x',(jT-jS('actualWidth'))*0.5);jF['set']('y',(jU-jS('actualHeight'))*0.5);};if(jK){this['executeFunctionWhenChange'](jH,0x0,jN);}var jP=jG['get']('class');var jQ=jP=='Video'||jP=='Video360';jH['set']('selectedIndex',0x0);if(jQ){this['bind']('resize',jO,this);jO();jH['get']('items')[0x0]['get']('player')['play']();}else{jF['set']('width',jI);jF['set']('height',jJ);}this['MainViewer']['set']('toolTipEnabled',![]);var jR=this['pauseCurrentPlayers'](!![]);jF['bind']('close',jM,this);jF['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(ka,kb,kc,kd,ke,kf,kg,kh,ki,kj,kk,kl){var km=this;var kn=![];var ko=function(){kF['unbind']('loaded',kr,km);kv();};var kp=function(){kF['unbind']('click',kp,this);if(kJ!=undefined){clearTimeout(kJ);}};var kq=function(){setTimeout(kz,0x0);};var kr=function(){km['unbind']('click',ko,km);kE['set']('visible',!![]);kz();kG['set']('visible',!![]);kF['unbind']('loaded',kr,this);kF['bind']('userInteractionStart',kA,this);kF['bind']('userInteractionEnd',kB,this);kF['bind']('resize',kq,this);kJ=setTimeout(ks,0xc8);};var ks=function(){kJ=undefined;if(kh){kF['bind']('click',kp,this);ku();}kF['bind']('backgroundClick',kv,this);if(kb){kF['bind']('click',kx,this);kF['set']('imageCursor','hand');}kG['bind']('click',kv,this);if(kk)kk();};var kt=function(){if(kh&&kJ){clearTimeout(kJ);kJ=undefined;}};var ku=function(){if(kh){kt();kJ=setTimeout(kv['bind'](this),kh);}};var kv=function(){km['MainViewer']['set']('toolTipEnabled',!![]);kn=!![];if(kJ)clearTimeout(kJ);if(kK)clearTimeout(kK);if(kh)kp();if(kl)kl();kF['set']('visible',![]);if(kf&&kf['get']('duration')>0x0){kf['bind']('end',kw,this);}else{kF['set']('image',null);}kG['set']('visible',![]);kE['set']('visible',![]);km['unbind']('click',ko,km);kF['unbind']('backgroundClick',kv,this);kF['unbind']('userInteractionStart',kA,this);kF['unbind']('userInteractionEnd',kB,this,!![]);kF['unbind']('resize',kq,this);if(kb){kF['unbind']('click',kx,this);kF['set']('cursor','default');}kG['unbind']('click',kv,this);km['resumePlayers'](kI,ki==null||kj);if(kj){km['resumeGlobalAudios']();}if(ki){km['stopGlobalAudio'](ki);}};var kw=function(){kF['set']('image',null);kf['unbind']('end',kw,this);};var kx=function(){kF['set']('image',ky()?ka:kb);};var ky=function(){return kF['get']('image')==kb;};var kz=function(){var kL=kF['get']('actualWidth')-kF['get']('imageLeft')-kF['get']('imageWidth')+0xa;var kM=kF['get']('imageTop')+0xa;if(kL<0xa)kL=0xa;if(kM<0xa)kM=0xa;kG['set']('right',kL);kG['set']('top',kM);};var kA=function(){kt();if(kK){clearTimeout(kK);kK=undefined;}else{kG['set']('visible',![]);}};var kB=function(){ku();if(!kn){kK=setTimeout(kC,0x12c);}};var kC=function(){kK=undefined;kG['set']('visible',!![]);kz();};var kD=function(kN){var kO=kN['get']('data');if(kO&&'extraLevels'in kO){var kP=km['rootPlayer']['createInstance'](kN['get']('class'));var kQ=kO['extraLevels'];kP['set']('levels',kN['get']('levels')['concat'](kQ));kN=kP;}return kN;};this['MainViewer']['set']('toolTipEnabled',![]);var kE=this['veilPopupPanorama'];var kF=this['zoomImagePopupPanorama'];var kG=this['closeButtonPopupPanorama'];if(kg){for(var kH in kg){kG['set'](kH,kg[kH]);}}var kI=this['pauseCurrentPlayers'](ki==null||!kj);if(kj){this['pauseGlobalAudios']();}if(ki){this['playGlobalAudio'](ki);}var kJ=undefined;var kK=undefined;ka=kD(ka);if(kb)kb=kD(kb);kF['bind']('loaded',kr,this);setTimeout(function(){km['bind']('click',ko,km,![]);},0x0);kF['set']('image',ka);kF['set']('customWidth',kc);kF['set']('customHeight',kd);kF['set']('showEffect',ke);kF['set']('hideEffect',kf);kF['set']('visible',!![]);return kF;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(kR,kS,kT,kU,kV,kW,kX){var kY=this;this['MainViewer']['set']('toolTipEnabled',![]);var kZ=this['isCardboardViewMode']();if(!kZ){var l0=this['zoomImagePopupPanorama'];var l1=kR['get']('showDuration');var l2=kR['get']('hideDuration');var l4=this['pauseCurrentPlayers'](kW==null||!kX);var l5=kR['get']('popupMaxWidth');var l6=kR['get']('popupMaxHeight');var l7=function(){var la=function(){if(!kY['isCardboardViewMode']())kR['set']('visible',![]);};kR['unbind']('showEnd',l7,kY);kR['set']('showDuration',0x1);kR['set']('hideDuration',0x1);kY['showPopupImage'](kT,kU,kR['get']('popupMaxWidth'),kR['get']('popupMaxHeight'),null,null,kS,kV,kW,kX,la,l8);};var l8=function(){var lb=function(){kR['unbind']('showEnd',lb,kY);kR['set']('visible',![]);kR['set']('showDuration',l1);kR['set']('popupMaxWidth',l5);kR['set']('popupMaxHeight',l6);};kY['resumePlayers'](l4,kW==null||!kX);var lc=l0['get']('imageWidth');var ld=l0['get']('imageHeight');kR['bind']('showEnd',lb,kY,!![]);kR['set']('showDuration',0x1);kR['set']('hideDuration',l2);kR['set']('popupMaxWidth',lc);kR['set']('popupMaxHeight',ld);if(kR['get']('visible'))lb();else kR['set']('visible',!![]);kY['MainViewer']['set']('toolTipEnabled',!![]);};kR['bind']('showEnd',l7,this,!![]);}else{var l9=function(){kY['resumePlayers'](l4,kW==null||kX);if(kX){kY['resumeGlobalAudios']();}if(kW){kY['stopGlobalAudio'](kW);}kR['unbind']('hideEnd',l9,kY);kY['MainViewer']['set']('toolTipEnabled',!![]);};var l4=this['pauseCurrentPlayers'](kW==null||!kX);if(kX){this['pauseGlobalAudios']();}if(kW){this['playGlobalAudio'](kW);}kR['bind']('hideEnd',l9,this,!![]);}kR['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(le,lf,lg){var lh=this;var li=function(){le['unbind']('showEnd',li);lm['bind']('click',lk,this);ll();lm['set']('visible',!![]);};var lj=function(){if(!le['get']('loop'))lk();};var lk=function(){lh['MainViewer']['set']('toolTipEnabled',!![]);le['set']('visible',![]);lm['set']('visible',![]);lm['unbind']('click',lk,lh);le['unbind']('end',lj,lh);le['unbind']('hideEnd',lk,lh,!![]);lh['resumePlayers'](lo,!![]);if(lg){lh['resumeGlobalAudios']();}};var ll=function(){var lp=0xa;var lq=0xa;lm['set']('right',lp);lm['set']('top',lq);};this['MainViewer']['set']('toolTipEnabled',![]);var lm=this['closeButtonPopupPanorama'];if(lf){for(var ln in lf){lm['set'](ln,lf[ln]);}}var lo=this['pauseCurrentPlayers'](!![]);if(lg){this['pauseGlobalAudios']();}le['bind']('end',lj,this,!![]);le['bind']('showEnd',li,this,!![]);le['bind']('hideEnd',lk,this,!![]);le['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(lr,ls,lt){if(lr['get']('visible')==!![]){return;}var lu=function(){this['MainViewer']['set']('toolTipEnabled',!![]);if(lt){this['resumeGlobalAudios']();}lv();this['resumePlayers'](ly,!lt);lr['unbind']('close',lu,this);};var lv=function(){lr['unbind']('click',lv,this);if(lw!=undefined){clearTimeout(lw);}};var lw=undefined;if(ls){var lx=function(){lr['hide']();};lr['bind']('click',lv,this);lw=setTimeout(lx,ls);}this['MainViewer']['set']('toolTipEnabled',![]);if(lt){this['pauseGlobalAudios']();}var ly=this['pauseCurrentPlayers'](!lt);lr['bind']('close',lu,this);lr['show'](this,!![]);};TDV['Tour']['Script']['startPanoramaWithCamera']=function(lz,lA){var lB=this['getByClassName']('PlayList');if(lB['length']==0x0)return;var lC=window['currentPanoramasWithCameraChanged']==undefined||!(lz['get']('id')in window['currentPanoramasWithCameraChanged']);var lD=[];for(var lF=0x0,lG=lB['length'];lF<lG;++lF){var lH=lB[lF];var lI=lH['get']('items');for(var lJ=0x0,lK=lI['length'];lJ<lK;++lJ){var lM=lI[lJ];if(lM['get']('media')==lz&&(lM['get']('class')=='PanoramaPlayListItem'||lM['get']('class')=='Video360PlayListItem')){if(lC){lD['push']({'camera':lM['get']('camera'),'item':lM});}lM['set']('camera',lA);}}}if(lD['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var lN=lz['get']('id');window['currentPanoramasWithCameraChanged'][lN]=lD;var lO=function(){if(lN in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][lN];}for(var lT=0x0;lT<lD['length'];lT++){lD[lT]['item']['set']('camera',lD[lT]['camera']);lD[lT]['item']['unbind']('end',lO,this);}};var lP=function(lU){var lV=lU['source'];lV['unbind']('begin',lP,this);lV['get']('player')['get']('viewerArea')['set']('translationTransitionEnabled',!![]);};for(var lF=0x0;lF<lD['length'];lF++){var lQ=lD[lF];var lM=lQ['item'];var lR=lM['get']('player');if(lR){var lS=lR['get']('viewerArea');if(lS&&lS['get']('translationTransitionEnabled')==!![]){lS['set']('translationTransitionEnabled',![]);lM['bind']('begin',lP,this);}}lM['bind']('end',lO,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(lW,lX){var lY=lW['get']('initialSequence');lY['pause']();var lZ=function(){lY['play']();};setTimeout(lZ,lX);};TDV['Tour']['Script']['syncPlaylists']=function(m0){var m1=function(m9,ma){for(var mb=0x0,mc=m0['length'];mb<mc;++mb){var md=m0[mb];if(md!=ma){var me=md['get']('items');for(var mf=0x0,mg=me['length'];mf<mg;++mf){if(me[mf]['get']('media')==m9){if(md['get']('selectedIndex')!=mf){md['set']('selectedIndex',mf);}break;}}}}};var m2=function(mh){var mi=mh['source'];var mj=mi['get']('selectedIndex');if(mj<0x0)return;var mk=mi['get']('items')[mj]['get']('media');m1(mk,mi);};var m3=function(ml){var mm=ml['source']['get']('panoramaMapLocation');if(mm){var mn=mm['get']('map');m1(mn);}};for(var m5=0x0,m7=m0['length'];m5<m7;++m5){m0[m5]['bind']('change',m2,this);}var m8=this['getByClassName']('MapPlayer');for(var m5=0x0,m7=m8['length'];m5<m7;++m5){m8[m5]['bind']('panoramaMapLocation_change',m3,this);}};TDV['Tour']['Script']['translate']=function(mo){return this['get']('data')['localeManager']['trans'](mo);};TDV['Tour']['Script']['triggerOverlay']=function(mp,mq){if(mp['get']('areas')!=undefined){var mr=mp['get']('areas');for(var ms=0x0;ms<mr['length'];++ms){mr[ms]['trigger'](mq);}}else{mp['trigger'](mq);}};TDV['Tour']['Script']['updateDeepLink']=function(){var mt=this['mainPlayList']['get']('selectedIndex');if(mt>=0x0){location['hash']='#media='+(mt+0x1);}else{var mu=this['getActiveMediaWithViewer'](this['MainViewer']);if(mu!=undefined){var mv=mu['get']('data');if(mv){location['hash']='#media-name='+mv['label'];}}}};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(mw,mx,my){var mz=function(){var mB=mw['get']('selectedIndex');if(mB>=0x0){var mC=function(){mF['unbind']('begin',mC);mD(mB);};var mD=function(mG){var mH=mF['get']('media');var mI=mH['get']('data');var mJ=mI!==undefined?mI['description']||mH['get']('label'):mH['get']('label');mE(mJ);};var mE=function(mK){if(mK!==undefined){mx['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+mK+'</SPAN></div>');}else{mx['set']('html','');}};var mF=mw['get']('items')[mB];if(mx['get']('html')){mE('Loading...');mF['bind']('begin',mC);}else{mD(mB);}}};var mA=function(){mx['set']('html',undefined);mw['unbind']('change',mz,this);my['unbind']('stop',mA,this);};if(my){my['bind']('stop',mA,this);}mw['bind']('change',mz,this);mz();};TDV['Tour']['Script']['updateVideoCues']=function(mL,mM){var mN=mL['get']('items')[mM];var mO=mN['get']('media');if(mO['get']('cues')['length']==0x0)return;var mP=mN['get']('player');var mQ=[];var mR=function(){if(mL['get']('selectedIndex')!=mM){mO['unbind']('cueChange',mS,this);mL['unbind']('change',mR,this);}};var mS=function(mT){var mU=mT['data']['activeCues'];for(var mV=0x0,mW=mQ['length'];mV<mW;++mV){var mX=mQ[mV];if(mU['indexOf'](mX)==-0x1&&(mX['get']('startTime')>mP['get']('currentTime')||mX['get']('endTime')<mP['get']('currentTime')+0.5)){mX['trigger']('end');}}mQ=mU;};mO['bind']('cueChange',mS,this);mL['bind']('change',mR,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(mY,mZ){var n0=this['get'](mZ);for(var n1 in mY){mY[n1]['set']('visible',n0);}};TDV['Tour']['Script']['quizStart']=function(){var n2=this['get']('data')['quiz'];return n2?n2['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var n3=this['get']('data')['quiz'];return n3?n3['finish']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(n4){var n5=this['get']('data')['quiz'];if(n5)n5['setItemFound'](n4);};TDV['Tour']['Script']['quizShowQuestion']=function(n6){var n7=this['get']('data');var n8=n7['quiz'];var n9;if(n8){var na=this['pauseCurrentPlayers'](!![]);var nb=this[n6];var nc;if(!nb['media']){nc=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){nc={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}var nd=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!nb['title'];if(nd)this['textToSpeech'](nb['title'],n6);n9=n8['showQuestion'](n6,nc);n9['then'](function(ne){if(nd)this['stopTextToSpeech']();this['resumePlayers'](na,!![]);}['bind'](this));}return n9;};TDV['Tour']['Script']['quizShowScore']=function(nf){var ng=this['get']('data');var nh=ng['quiz'];if(nh){if(this['get']('isMobile')&&this['get']('orientation')=='portrait'){nf=nf||{};nf=this['mixObject'](nf,ng['scorePortraitConfig']);}return nh['showScore'](nf);}};TDV['Tour']['Script']['quizShowTimeout']=function(ni,nj){var nk=this['get']('data');var nl=nk['quiz'];if(nl){if(this['get']('isMobile')&&this['get']('orientation')=='portrait'){nj=nj||{};nj=this['mixObject'](nj,nk['scorePortraitConfig']);}nl['showTimeout'](ni,nj);}};TDV['Tour']['Script']['stopTextToSpeech']=function(){if(window['speechSynthesis']){var nm=window['speechSynthesis'];if(nm['speaking']){nm['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['textToSpeech']=function(nn,no){if(window['speechSynthesis']){var np=window['speechSynthesis'];if(no!=undefined&&this['t2sLastID']!=no||no==undefined){if(np['speaking']){np['cancel']();}this['t2sLastID']=no;var nq=new SpeechSynthesisUtterance(nn);var nr=this['get']('data');var ns=nr['localeManager']['currentLocaleID'];if(ns)nq['lang']=ns;var nt=nr['textToSpeechConfig'];if(nt){nq['volume']=nt['volume'];nq['pitch']=nt['pitch'];nq['rate']=nt['rate'];}nq['onend']=function(){this['t2sLastID']=null;}['bind'](this);np['speak'](nq);}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}};TDV['Tour']['Script']['textToSpeechComponent']=function(nu){var nv=nu['get']('class');var nw;if(nv=='HTMLText'){nw=this['htmlToPlainText'](nu['get']('html'));}if(nw){this['textToSpeech'](nw,nu['get']('id'));}};TDV['Tour']['Script']['_initTTSTooltips']=function(){function nx(ny){var nz=ny['source'];this['textToSpeech'](nz['get']('toolTip'),nz['get']('id'));}setTimeout(function(){var nA=this['getByClassName']('FlatHotspotPanoramaOverlayArea');nA=nA['concat'](this['getByClassName']('HotspotMapOverlayArea'));nA=nA['concat'](this['getByClassName']('HotspotPanoramaOverlayArea'));nA=nA['concat'](this['getByClassName']('VideoPanoramaOverlay'));nA=nA['concat'](this['getByClassName']('UIComponent'));for(var nB=0x0,nC=nA['length'];nB<nC;++nB){var nD=nA[nB];var nE=nD['get']('toolTip');if(!!nE){nD['bind']('rollOver',nx,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(nF,nG){var nH=function(nV,nW){var nX='';for(var nY=0x0;nY<nW;nY+=0x1){nX+=nV;}return nX;};var nI=null;var nJ=null;var nK='underline';var nL='indention';var nM='-';var nN=0x3;var nO='-';var nP=![];if(!!nG){if(typeof nG['linkProcess']==='function'){nI=nG['linkProcess'];}if(typeof nG['imgProcess']==='function'){nJ=nG['imgProcess'];}if(!!nG['headingStyle']){nK=nG['headingStyle'];}if(!!nG['listStyle']){nL=nG['listStyle'];}if(!!nG['uIndentionChar']){nM=nG['uIndentionChar'];}if(!!nG['listIndentionTabs']){nN=nG['listIndentionTabs'];}if(!!nG['oIndentionChar']){nO=nG['oIndentionChar'];}if(!!nG['keepNbsps']){nP=nG['keepNbsps'];}}var nQ=nH(nM,nN);var nR=String(nF)['replace'](/\n|\r/g,'\x20');const nS=nR['match'](/<\/body>/i);if(nS){nR=nR['substring'](0x0,nS['index']);}const nT=nR['match'](/<body[^>]*>/i);if(nT){nR=nR['substring'](nT['index']+nT[0x0]['length'],nR['length']);}nR=nR['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');nR=nR['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');nR=nR['replace'](/<img([^>]*)>/gi,function(nZ,o0){var o1='';var o2='';var o3=/src="([^"]*)"/i['exec'](o0);var o4=/alt="([^"]*)"/i['exec'](o0);if(o3!==null){o1=o3[0x1];}if(o4!==null){o2=o4[0x1];}if(typeof nJ==='function'){return nJ(o1,o2);}if(o2===''){return'![image]\x20('+o1+')';}return'!['+o2+']\x20('+o1+')';});function nU(){return function(o5,o6,o7,o8){var o9=0x0;if(o7&&/start="([0-9]+)"/i['test'](o7)){o9=/start="([0-9]+)"/i['exec'](o7)[0x1]-0x1;}var oa='<p>'+o8['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(ob,oc){var od=0x0;var oe=oc['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(o6==='o'&&od===0x0){o9+=0x1;od+=0x1;return'<br\x20/>'+o9+nH(nO,nN-String(o9)['length']);}return'<br\x20/>'+nQ;});return oe;})+'</p>';return oa;};}if(nL==='linebreak'){nR=nR['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(nL==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](nR)){nR=nR['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,nU());}}if(nK==='linebreak'){nR=nR['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(nK==='underline'){nR=nR['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(of,og){return'\x0a&nbsp;\x0a'+og+'\x0a'+nH('=',og['length'])+'\x0a&nbsp;\x0a';});nR=nR['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(oh,oi){return'\x0a&nbsp;\x0a'+oi+'\x0a'+nH('-',oi['length'])+'\x0a&nbsp;\x0a';});nR=nR['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(oj,ok,ol){return'\x0a&nbsp;\x0a'+ol+'\x0a&nbsp;\x0a';});}else if(nK==='hashify'){nR=nR['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(om,on,oo){return'\x0a&nbsp;\x0a'+nH('#',on)+'\x20'+oo+'\x0a&nbsp;\x0a';});}nR=nR['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');nR=nR['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(op,oq,or){if(typeof nI==='function'){return nI(oq,or);}return'\x20['+or+']\x20('+oq+')\x20';});nR=nR['replace'](/\n[ \t\f]*/gi,'\x0a');nR=nR['replace'](/\n\n+/gi,'\x0a');if(nP){nR=nR['replace'](/( |\t)+/gi,'\x20');nR=nR['replace'](/&nbsp;/gi,'\x20');}else{nR=nR['replace'](/( |&nbsp;|\t)+/gi,'\x20');}nR=nR['replace'](/\n +/gi,'\x0a');nR=nR['replace'](/^ +/gi,'');while(nR['indexOf']('\x0a')===0x0){nR=nR['substring'](0x1);}if(nR['length']===0x0||nR['lastIndexOf']('\x0a')!==nR['length']-0x1){nR+='\x0a';}return nR;};TDV['Tour']['Script']['getKey']=function(os){return window[os];};TDV['Tour']['Script']['registerKey']=function(ot,ou){window[ot]=ou;};TDV['Tour']['Script']['unregisterKey']=function(ov){delete window[ov];};TDV['Tour']['Script']['existsKey']=function(ow){return ow in window;};
//# sourceMappingURL=http://localhost:9000/script_v2020.4.0-beta.7683.js.map
//Generated with v2020.4.0-beta.7683, Sat Sep 12 2020