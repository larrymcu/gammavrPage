if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();}this['player']['delete']();this['player']=undefined;window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(v){if(v['name']=='begin'){var w=v['data']['source']['get']('camera');if(w&&w['get']('initialSequence')&&w['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(v['sourceClassName']=='MediaAudio')return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,u,!![]);u['unbindOnObjectsOf']('PanoramaPlayListItem','begin',t,u,!![]);u['unbind']('stateChange',t,u,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PanoramaPlayListItem','begin',t,this,!![]);u['bindOnObject']('rootPlayer','start',function(x){var y=x['data']['source'];var z=window['navigator']['language']||window['navigator']['userLanguage']||'en';var A=y['get']('data')['locales']||{};var B=y['get']('data')['defaultLocale']||z;var C=this['locManager']=new TDV['Tour']['LocaleManager'](y,A,B,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));y['get']('data')['localeManager']=C;var D=function(){var J=y['get']('data');if(!('updateText'in J)){J['updateText']=function(N){var O=N[0x0]['split']('.');if(O['length']==0x2){var P=C['trans']['apply'](C,N);var Q=N[0x1]||y;if(typeof Q=='string'){var R=Q['split']('.');Q=y[R['shift']()];for(var S=0x0;S<R['length']-0x1;++S){if(Q!=undefined)Q='get'in Q?Q['get'](R[S]):Q[R[S]];}if(Q!=undefined){var T=R[R['length']-0x1];if(Array['isArray'](Q)){for(var U=0x0;U<Q['length'];++U){this['setValue'](Q[U],T,P);}}else this['setValue'](Q,T,P);}}else{Q=Q[O[0x0]];this['setValue'](Q,O[0x1],P);}}}['bind'](y);}var K=J['translateObjs'];var L=J['updateText'];var M=function(){for(var V in K){L(K[V]);}};M();M();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],D['bind'](this));var E=this['_getParams'](location['search']['substr'](0x1));var F=E['language'];if(!F||!this['locManager']['hasLocale'](E['language']))F=z;this['setLocale'](F);this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![])||this['_setMediaFromURL'](E,!![]);if(this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']&&typeof this['_devicesUrl'][TDV['Tour']['DEVICE_MOBILE']]=='object'){var G=function(){if(!y['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload']();return!![];}return![];};if(G['call'](this))return;var H=y['getByClassName']('PanoramaPlayer');for(var I=0x0;I<H['length'];++I){H[I]['bind']('viewModeChange',G,this);}y['bind']('orientationChange',G,this);}this['_onHashChange']=function(){this['_setMediaFromURL'](this['_getParams'](location['hash']['substr'](0x1)),![]);}['bind'](this);this['_onKeyUp']=function(W){if(W['key']=='u'){this['updateDeepLink']();this['copyToClipboard'](location['href']);}}['bind'](this);this['_onBeforeUnload']=function(X){y['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);y['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));},this,!![]);window['addEventListener']('message',function(Y){var Z=Y['data'];if(Z=='pauseTour')Z='pause';else if(Z=='resumeTour')Z='resume';else return;this[Z]['apply'](this);}['bind'](this));};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var a0=player['getByClassName']('PlayList');for(var a1=0x0,a2=a0['length'];a1<a2;a1++){var a3=a0[a1];var a4=a3['get']('selectedIndex');if(a4!=-0x1){var a5=a3['get']('items')[a4];var a6=a5['get']('player');if(a6&&a6['pause']){this['_playersPlayingTmp']['push'](a6);a6['pause']();}}}this['player']['getById']('pauseGlobalAudios')();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var a7=this['playersPlayingTmp']['pop']();a7['play']();}this['player']['getById']('resumeGlobalAudios')();};TDV['Tour']['prototype']['reload']=function(){this['_orientation']=this['_getOrientation']();this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(a8){var a9=this['_getRootPlayer']();if(a9!==undefined){return a9['setMainMediaByIndex'](a8);}};TDV['Tour']['prototype']['setMediaByName']=function(aa){var ab=this['_getRootPlayer']();if(ab!==undefined){return ab['setMainMediaByName'](aa);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(ac,ad,ae){var af=this['_getRootPlayer']();if(af!==undefined&&ae){var ag=af['getPanoramaOverlayByName'](ac['get']('media'),ad);if(ag){af['triggerOverlay'](ag,ae);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(ah,ai){var aj=this['_getRootPlayer']();if(aj!==undefined){var ak=aj['getPanoramaOverlayByName'](ah['get']('media'),ai);if(ak){var al=ak['get']('class');var am=al=='VideoPanoramaOverlay'?ak:ak['get']('items')[0x0];var an=am['get']('yaw');var ao=am['get']('pitch');var ap=aj['getPlayListWithItem'](ah);if(an&&ao&&ap){var aq=function(){aj['setPanoramaCameraWithSpot'](ap,ah,an,ao);};if(!this['_isInitialized']){var ar=function(){ah['unbind']('begin',ar,this);aq();};ah['bind']('begin',ar,this);}else{aq();}}}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var as=this['_getRootPlayer']();if(as!==undefined){as['updateDeepLink']();}};TDV['Tour']['prototype']['setLocale']=function(at){var au=this['_getRootPlayer']();if(au!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](at);}};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['copyToClipboard']=function(av){if(navigator['clipboard']){navigator['clipboard']['writeText'](av);}else{var aw=document['createElement']('textarea');aw['value']=av;aw['style']['position']='fixed';document['body']['appendChild'](aw);aw['focus']();aw['select']();try{document['execCommand']('copy');}catch(ax){}document['body']['removeChild'](aw);}};TDV['Tour']['prototype']['_getOrientation']=function(){var ay=this['_getRootPlayer']();if(ay){return ay['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(az){var aA={};az['split']('&')['forEach'](function(aB){var aC=aB['split']('=')[0x0],aD=decodeURIComponent(aB['split']('=')[0x1]);aA[aC['toLowerCase']()]=aD;});return aA;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var aE=document['getElementById']('metaViewport');if(aE){var aF=this['_devicesUrl'][this['_device']];var aG=this['_getOrientation']();var aH=0x1;if(typeof aF=='object'&&aG in aF&&aG==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){aH=aE['getAttribute']('data-tdv-general-scale')||0.5;}var aI=aE['getAttribute']('content');aI=aI['replace'](/initial-scale=(\d+(\.\d+)?)/,function(aJ,aK){return'initial-scale='+aH;});aE['setAttribute']('content',aI);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var aL=this['_devicesUrl'][this['_device']];if(typeof aL=='object'){if(this['_orientation']in aL){aL=aL[this['_orientation']];}}return aL;};TDV['Tour']['prototype']['_getDevice']=function(){var aM=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()&&TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl']){aM=TDV['Tour']['DEVICE_MOBILE'];}return aM;};TDV['Tour']['prototype']['_setMediaFromURL']=function(aN,aO){var aP=this['_getRootPlayer']();var aQ=aP['getActivePlayerWithViewer'](aP['MainViewer']);var aR=aQ?aP['getMediaFromPlayer'](aQ):undefined;var aS=undefined;if('media'in aN){var aT=aN['media'];var aU=Number(aT);aS=isNaN(aU)?this['setMediaByName'](aT):this['setMediaByIndex'](aU-0x1);}else if('media-index'in aN){aS=this['setMediaByIndex'](parseInt(aN['media-index'])-0x1);}else if('media-name'in aN){aS=this['setMediaByName'](aN['media-name']);}if(aS==undefined&&aO){aS=this['setMediaByIndex'](0x0);}if(aS!=undefined){var aV=aS['get']('player');var aW=function(){if('trigger-overlay-name'in aN){this['triggerOverlayByName'](aS,aN['trigger-overlay-name'],'trigger-overlay-event'in aN?aN['trigger-overlay-event']:'click');}if('focus-overlay-name'in aN){this['focusOverlayByName'](aS,aN['focus-overlay-name']);}else if('yaw'in aN&&'pitch'in aN){var b0=parseInt(aN['yaw']);var b1=parseInt(aN['pitch']);var b2=aP['getPlayListWithItem'](aS);if(!isNaN(b0)&&!isNaN(b1)&&b2)aP['setPanoramaCameraWithSpot'](b2,aS,b0,b1);}}['bind'](this);if(aV){var aX=aV['get']('viewerArea')==aP['MainViewer'];var aY=aP['getMediaFromPlayer'](aV);if(aX&&aR==aS['get']('media')||!aX&&aY==aS['get']('media')){aW();return aS!=undefined;}}var aZ=function(){aS['unbind']('begin',aZ,this);aW();};aS['bind']('begin',aZ,aP);}return aS!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var b3=function(){var b4=undefined;var b5=function(){var b8=this['_getRootPlayer']();b4=b8['get']('lockedOrientation');b8['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var b6=function(){b5();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],b6);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],b6);this['reload']();}else{b5();}var b7=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',b4);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],b7);var b9=this['_getScriptUrl']();if(this['_currentScriptUrl']!=b9)this['reload']();}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],b7);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],b3);}};TDV['Tour']['LocaleManager']=function(ba,bb,bc,bd){TDV['EventDispatcher']['call'](this);this['rootPlayer']=ba;this['locales']={};this['defaultLocale']=bc;this['queryParam']=bd;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var be in bb){this['registerLocale'](be,bb[be]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(bf,bg){var bh=[bf,bf['split']('-')[0x0]];for(var bi=0x0;bi<bh['length'];++bi){bf=bh[bi];if(!(bf in this['locales'])){this['locales'][bf]=bg;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(bj){delete this['locales'][bj];if(bj==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(bk){return bk in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(bl){var bm=undefined;var bn=bl['split']('-')[0x0];var bo=[bl,bn];for(var bp=0x0;bp<bo['length'];++bp){var br=bo[bp];if(br in this['locales']){bm=br;break;}}if(bm===undefined){for(var br in this['locales']){if(br['indexOf'](bn)==0x0){bm=br;break;}}}if(bm===undefined){bm=this['defaultLocale'];}var bs=this['locales'][bm];if(bs!==undefined&&this['currentLocaleID']!=bm){this['currentLocaleID']=bm;var bt=this;if(typeof bs=='string'){var bu=new XMLHttpRequest();bu['onreadystatechange']=function(){if(bu['readyState']==0x4){if(bu['status']==0xc8){bt['locales'][bm]=bt['currentLocaleMap']=bt['_parsePropertiesContent'](bu['responseText']);bt['dispatchEvent'](bt['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw bs+'\x20can\x27t\x20be\x20loaded';}}};var bv=bs;if(this['queryParam'])bv+=(bv['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];bu['open']('GET',bv);bu['send']();}else{this['currentLocaleMap']=bs;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(bw){var bx=this['currentLocaleMap'][bw];if(arguments['length']>0x2){var by=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var bz=arguments;function bA(bB){return/^\d+$/['test'](bB);}bx=bx['replace'](/\{\{([\w\.]+)\}\}/g,function(bC,bD){if(bA(bD))bD=bz[parseInt(bD)+0x1];else if(by!==undefined)bD=by[bD];if(typeof bD=='string')bD=this['currentLocaleMap'][bD]||bD;else if(typeof bD=='function')bD=bD['call'](this['rootPlayer']);return bD!==undefined?bD:'';}['bind'](this));}return bx;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(bE){bE=bE['replace'](/(^|\n)#[^\n]*/g,'');var bF={};var bG=bE['split']('\x0a');for(var bH=0x0,bI=bG['length'];bH<bI;++bH){var bJ=bG[bH]['trim']();if(bJ['length']==0x0){continue;}var bK=bJ['indexOf']('=');if(bK==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+bH);continue;}var bL=bJ['substr'](0x0,bK)['trim']();var bM=bJ['substr'](bK+0x1)['trim']();var bN;while((bN=bM['lastIndexOf']('\x5c'))!=-0x1&&bN==bM['length']-0x1&&++bH<bI){bM=bM['substr'](0x0,bM['length']-0x2);bJ=bG[bH]['trim']();if(bJ['length']==0x0)break;bM+='\x0a'+bJ;}bF[bL]=bM;}return bF;};TDV['Tour']['HistoryData']=function(bO){this['playList']=bO;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(bP){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==bP){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],bP);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(bQ,bR){for(var bS in bQ){var bT=bQ[bS];if(typeof bT=='object'&&bT!==null)this['assignObjRecursively'](bQ[bS],bR[bS]||(bR[bS]={}));else bR[bS]=bT;}return bR;};TDV['Tour']['Script']['autotriggerAtStart']=function(bU,bV,bW){var bX=function(bY){bV();if(bW==!![])bU['unbind']('change',bX,this);};bU['bind']('change',bX,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(bZ,c0,c1){var c2=function(c9){c3['unbind']('stop',c2,this);if(c1==c5['get']('backgroundColor')&&c8==c5['get']('backgroundColorRatios')){c5['set']('backgroundColor',c6);c5['set']('backgroundColorRatios',c7);}};var c3=bZ['get']('items')[c0];var c4=c3['get']('player');var c5=c4['get']('viewerArea');var c6=c5['get']('backgroundColor');var c7=c5['get']('backgroundColorRatios');var c8=[0x0];if(c1!=c6||c8!=c7){c5['set']('backgroundColor',c1);c5['set']('backgroundColorRatios',c8);c3['bind']('stop',c2,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(ca,cb){var cc=ca['get']('selectedIndex');if(cc>=0x0&&cb>=0x0&&cc!=cb){var cd=ca['get']('items')[cc];var ce=ca['get']('items')[cb];var cf=cd['get']('player');var cg=ce['get']('player');if((cf['get']('class')=='PanoramaPlayer'||cf['get']('class')=='Video360Player')&&(cg['get']('class')=='PanoramaPlayer'||cg['get']('class')=='Video360Player')){var ch=this['cloneCamera'](ce['get']('camera'));this['setCameraSameSpotAsMedia'](ch,cd['get']('media'));this['startPanoramaWithCamera'](ce['get']('media'),ch);}}};TDV['Tour']['Script']['cloneCamera']=function(ci){var cj=this['rootPlayer']['createInstance'](ci['get']('class'));cj['set']('id',ci['get']('id')+'_copy');var ck=['initialSequence','idleSequence','manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor'];for(var cl=0x0;cl<ck['length'];++cl){var cm=ck[cl];cj['set'](cm,ci['get'](cm));}return cj;};TDV['Tour']['Script']['copyObjRecursively']=function(cn){var co={};for(var cp in cn){var cq=cn[cp];if(typeof cq=='object'&&cq!==null)co[cp]=this['copyObjRecursively'](cn[cp]);else co[cp]=cq;}return co;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(cr,cs,ct,cu){var cv=undefined;var cw=function(cz){if(cz['data']['previousSelectedIndex']==cs){if(cu)cu['call'](this);if(ct&&cv)cv['unbind']('end',ct,this);cr['unbind']('change',cw,this);}};if(ct){var cx=cr['get']('items')[cs];if(cx['get']('class')=='PanoramaPlayListItem'){var cy=cx['get']('camera');if(cy!=undefined)cv=cy['get']('initialSequence');if(cv==undefined)cv=cy['get']('idleSequence');}else{cv=cx['get']('media');}if(cv){cv['bind']('end',ct,this);}}cr['bind']('change',cw,this);};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(cA){var cB=cA['get']('buttonPlayPause');if(typeof cB!=='undefined'&&cA['get']('state')=='playing'){if(!Array['isArray'](cB))cB=[cB];for(var cC=0x0;cC<cB['length'];++cC)cB[cC]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(cD){var cE=this['getActivePlayerWithViewer'](cD);if(cE==undefined){return undefined;}return this['getMediaFromPlayer'](cE);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(cF){var cG=this['getCurrentPlayers']();var cH=cG['length'];while(cH-->0x0){var cI=cG[cH];if(cI['get']('viewerArea')==cF){var cJ=cI['get']('class');if(cJ=='PanoramaPlayer'&&(cI['get']('panorama')!=undefined||cI['get']('video')!=undefined))return cI;else if((cJ=='VideoPlayer'||cJ=='Video360Player')&&cI['get']('video')!=undefined)return cI;else if(cJ=='PhotoAlbumPlayer'&&cI['get']('photoAlbum')!=undefined)return cI;else if(cJ=='MapPlayer'&&cI['get']('map')!=undefined)return cI;}}return undefined;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(cK){var cL=undefined;var cM=undefined;switch(cK['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':cL='PanoramaPlayer';cM='panorama';break;case'Video360':cL='PanoramaPlayer';cM='video';break;case'PhotoAlbum':cL='PhotoAlbumPlayer';cM='photoAlbum';break;case'Map':cL='MapPlayer';cM='map';break;case'Video':cL='VideoPlayer';cM='video';break;};if(cL!=undefined){var cN=this['getByClassName'](cL);for(var cO=0x0;cO<cN['length'];++cO){var cP=cN[cO];if(cP['get'](cM)==cK){return cP;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var cQ=this['getByClassName']('PanoramaPlayer');cQ=cQ['concat'](this['getByClassName']('VideoPlayer'));cQ=cQ['concat'](this['getByClassName']('Video360Player'));cQ=cQ['concat'](this['getByClassName']('PhotoAlbumPlayer'));cQ=cQ['concat'](this['getByClassName']('MapPlayer'));return cQ;};TDV['Tour']['Script']['getGlobalAudio']=function(cR){var cS=window['currentGlobalAudios'];if(cS!=undefined&&cR['get']('id')in cS){cR=cS[cR['get']('id')]['audio'];}return cR;};TDV['Tour']['Script']['getMediaByName']=function(cT){var cU=this['getByClassName']('Media');for(var cV=0x0,cW=cU['length'];cV<cW;++cV){var cX=cU[cV];var cY=cX['get']('data');if(cY&&cY['label']==cT){return cX;}}return undefined;};TDV['Tour']['Script']['getComponentByName']=function(cZ){var d0=this['getByClassName']('UIComponent');for(var d1=0x0,d2=d0['length'];d1<d2;++d1){var d3=d0[d1];var d4=d3['get']('data');if(d4!=undefined&&d4['name']==cZ){return d3;}}return undefined;};TDV['Tour']['Script']['getMediaFromPlayer']=function(d5){switch(d5['get']('class')){case'PanoramaPlayer':return d5['get']('panorama')||d5['get']('video');case'VideoPlayer':case'Video360Player':return d5['get']('video');case'PhotoAlbumPlayer':return d5['get']('photoAlbum');case'MapPlayer':return d5['get']('map');}};TDV['Tour']['Script']['getMediaWidth']=function(d6){switch(d6['get']('class')){case'Video360':var d7=d6['get']('video');if(d7 instanceof Array){var d8=0x0;for(var d9=0x0;d9<d7['length'];d9++){var da=d7[d9];if(da['get']('width')>d8)d8=da['get']('width');}return d8;}else{return da['get']('width');}default:return d6['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(db){switch(db['get']('class')){case'Video360':var dc=db['get']('video');if(dc instanceof Array){var dd=0x0;for(var de=0x0;de<dc['length'];de++){var df=dc[de];if(df['get']('height')>dd)dd=df['get']('height');}return dd;}else{return df['get']('height');}default:return db['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(dg){switch(dg['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var dh=dg['get']('overlays')['concat']()||[];var di=dg['get']('frames');for(var dj=0x0;dj<di['length'];++dj){dh=dh['concat'](di[dj]['get']('overlays')||[]);}return dh;case'Video360':case'Map':return dg['get']('overlays')||[];default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(dk,dl){var dm=this['getOverlays'](dk);for(var dn=0x0,dp=dm['length'];dn<dp;++dn){var dq=dm[dn];var dr=dq['get']('data');if(dr!=undefined&&dr['label']==dl){return dq;}}return undefined;};TDV['Tour']['Script']['getPixels']=function(ds){var dt=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](ds);if(dt==undefined){return 0x0;}var du=parseFloat(dt[0x1]);var dv=dt[0x4];var dw=this['rootPlayer']['get']('actualWidth')/0x64;var dx=this['rootPlayer']['get']('actualHeight')/0x64;switch(dv){case'vw':return du*dw;case'vh':return du*dx;case'vmin':return du*Math['min'](dw,dx);case'vmax':return du*Math['max'](dw,dx);default:return du;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(dy,dz){var dA=[];var dB=this['getByClassName']('PlayList');for(var dC=0x0,dD=dB['length'];dC<dD;++dC){var dE=dB[dC];if(dz&&dE['get']('selectedIndex')==-0x1)continue;if(this['getPlayListItemByMedia'](dE,dy)!=undefined)dA['push'](dE);}return dA;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(dF){var dG=this['getByClassName']('PlayList');var dH=function(dJ){var dK=dJ['get']('items');for(var dL=dK['length']-0x1;dL>=0x0;--dL){var dM=dK[dL];var dN=dM['get']('player');if(dN!==undefined&&dN['get']('viewerArea')==dF)return!![];}return![];};for(var dI=dG['length']-0x1;dI>=0x0;--dI){if(!dH(dG[dI]))dG['splice'](dI,0x1);}return dG;};TDV['Tour']['Script']['getPlayListWithItem']=function(dO){var dP=this['getByClassName']('PlayList');for(var dQ=dP['length']-0x1;dQ>=0x0;--dQ){var dR=dP[dQ];var dS=dR['get']('items');for(var dT=dS['length']-0x1;dT>=0x0;--dT){var dU=dS[dT];if(dU==dO)return dR;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(dV,dW){var dX=this['getPlayListsWithMedia'](dV,dW);return dX['length']>0x0?dX[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(dY,dZ){var e0=dY['get']('items');for(var e1=0x0,e2=e0['length'];e1<e2;++e1){var e3=e0[e1];if(e3['get']('media')==dZ)return e3;}return undefined;};TDV['Tour']['Script']['getPlayListItems']=function(e4,e5){var e6=function(){switch(e4['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Video360':return'Video360PlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Map':return'MapPlayListItem';case'Video':return'VideoPlayListItem';}}();if(e6!=undefined){var e7=this['getByClassName'](e6);for(var e8=e7['length']-0x1;e8>=0x0;--e8){var e9=e7[e8];if(e9['get']('media')!=e4||e5!=undefined&&e9['get']('player')!=e5){e7['splice'](e8,0x1);}}return e7;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(ea){var eb=this['get']('data')['history'][ea['get']('id')];if(eb!=undefined){eb['back']();}};TDV['Tour']['Script']['historyGoForward']=function(ec){var ed=this['get']('data')['history'][ec['get']('id')];if(ed!=undefined){ed['forward']();}};TDV['Tour']['Script']['init']=function(){var ee=this['get']('data')['history'];var ef=function(ek){var el=ek['source'];var em=el['get']('selectedIndex');if(em<0x0)return;var en=el['get']('id');if(!ee['hasOwnProperty'](en))ee[en]=new TDV['Tour']['HistoryData'](el);ee[en]['add'](em);};var eg=this['getByClassName']('PlayList');for(var eh=0x0,ei=eg['length'];eh<ei;++eh){var ej=eg[eh];ej['bind']('change',ef,this);}};TDV['Tour']['Script']['initGA']=function(){var eo=function(eQ,eR,eS){if(window['ga']){window['ga']('send','event',eQ,eR,eS);}if(window['dataLayer']){window['dataLayer']['push']({'event':eR,'label':eS,'category':eQ});}};var eq=this['getByClassName']('Panorama');eq=eq['concat'](this['getByClassName']('Video360'));eq=eq['concat'](this['getByClassName']('Map'));for(var et=0x0,ew=eq['length'];et<ew;++et){var ex=eq[et];var ez=ex['get']('data');var eA=ez?ez['label']:undefined;var eB=this['getOverlays'](ex);for(var eC=0x0,eD=eB['length'];eC<eD;++eC){var eE=eB[eC];var eF=eE['get']('data')!=undefined?eA+'\x20-\x20'+eE['get']('data')['label']:eA;switch(eE['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var eG=eE['get']('areas');for(var eH=0x0;eH<eG['length'];++eH){eG[eH]['bind']('click',eo['bind'](this,'Hotspot','click',eF),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':eE['bind']('click',eo['bind'](this,'Cap','click',eF),this,![]);break;case'VideoPanoramaOverlay':eE['bind']('click',eo['bind'](this,'Hotspot','click',eF),this,![]);eE['bind']('start',eo['bind'](this,'Hotspot','start',eF),this,![]);break;}}}var eI=this['getByClassName']('UIComponent');for(var et=0x0,ew=eI['length'];et<ew;++et){var eJ=eI[et];var eK=eJ['getBindings']('click');if(eK['length']>0x0){var eL=eJ['get']('data')['name'];eJ['bind']('click',eo['bind'](this,'Skin','click',eL),this,![]);}}var eM=this['getByClassName']('PlayListItem');var eN={};for(var et=0x0,ew=eM['length'];et<ew;++et){var eO=eM[et];var eq=eO['get']('media');if(!(eq['get']('id')in eN)){var ez=eq['get']('data');eO['bind']('begin',eo['bind'](this,'Media','play',ez?ez['label']:undefined),this,![]);eN[eq['get']('id')]=eO;}}if(TDV['Remote']!=undefined){var eP=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(eT){eP=Date['now']();eo('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+eT);});TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(eU){var eV=new Date();eV['setTime'](Date['now']()-eP);eo('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+eU+'\x20Duration:\x20'+eV['toUTCString']()['split']('\x20')[0x4]);});}};TDV['Tour']['Script']['initQuiz']=function(eW,eX,eY){var eZ={'question':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.2},'window':{'width':'60%','height':'60%','backgroundColor':'#ffffff','backgroundOpacity':0.9,'borderRadius':0x5,'horizontalAlign':'center','minWidth':0x1f4,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'shadowBlurRadius':0x4,'shadow':!![],'shadowColor':'#000000','shadowOpacity':0.3,'shadowHorizontalLength':0x0,'shadowVerticalLength':0x0,'shadowSpread':0x4,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'600','paddingLeft':0x32,'paddingRight':0x32,'paddingBottom':0x28,'paddingTop':0x19,'textAlign':'center'},'buttonsContainer':{'horizontalAlign':'right','verticalAlign':'bottom','button':{'backgroundColor':'#000000','backgroundOpacity':0.7,'borderRadius':0x3,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xa,'paddingBottom':0xa,'verticalAlign':'middle'}},'bodyContainer':{'width':'100%','height':'100%','gap':0x23,'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e,'paddingBottom':0x1e},'mediaContainer':{'width':'70%','height':'100%','buttonNext':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=','width':0x19,'height':0x25},'buttonPrevious':{'iconURL':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC','width':0x19,'height':0x25},'viewerArea':{'playbackBarBackgroundColor':'#000000','playbackBarBackgroundOpacity':0.5,'playbackBarBorderRadius':0x0,'playbackBarBorderSize':0x0,'playbackBarBottom':0x5,'playbackBarHeight':0x6,'playbackBarLeft':0x0,'playbackBarRight':0x0,'playbackBarProgressBackgroundColor':'#3399ff','playbackBarProgressOpacity':0.5,'playbackBarHeadBackgroundColor':'#cccccc','playbackBarHeadBorderColor':'#ffffff','playbackBarHeadBorderRadius':0x7,'playbackBarHeadBorderSize':0x3,'playbackBarHeadOpacity':0x1,'playbackBarHeadWidth':0xe,'playbackBarHeadHeight':0xe,'playbackBarHeadShadow':!![],'playbackBarHeadShadowBlurRadius':0x2,'playbackBarHeadShadowColor':'#000000','playbackBarHeadShadowHorizontalLength':0x0,'playbackBarHeadShadowOpacity':0.3,'playbackBarHeadShadowSpread':0x2,'playbackBarHeadShadowVerticalLength':0x0,'backgroundColor':'#e6e6e6','backgroundOpacity':0x1}},'optionsContainer':{'gap':0xa,'width':'30%','height':'100%','overflow':'scroll','contentOpaque':!![]},'option':{'gap':0xa,'text':{'fontColor':'#404040','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left','verticalAlign':'middle','selected':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x12,'paddingTop':0x9,'textAlign':'left'}},'label':{'borderRadius':0x13,'backgroundColor':'#000000','backgroundOpacity':0.2,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26,'correct':{'borderRadius':0x13,'backgroundColor':'#39b54a','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26},'incorrect':{'borderRadius':0x13,'backgroundColor':'#ed1c24','backgroundOpacity':0x1,'fontColor':'#ffffff','fontFamily':'Arial','fontSize':0x12,'fontWeight':'bold','height':0x26,'horizontalAlign':'center','pressedBackgroundOpacity':0x1,'verticalAlign':'middle','width':0x26}}},'closeButton':{'backgroundColor':'#009FE3','height':0x2d,'iconColor':'#FFFFFF','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d}}},'score':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','minWidth':0x1f4,'maxWidth':0x5dc,'paddingBottom':0x14,'paddingLeft':0x14,'paddingRight':0x14,'paddingTop':0x14,'content':{'width':'100%','horizontalAlign':'center'},'closeButton':{'backgroundColor':'#009fe3','height':0x2d,'iconColor':'#ffffff','iconLineWidth':0x2,'iconHeight':0x12,'iconWidth':0x12,'width':0x2d},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x32,'fontWeight':'800','paddingBottom':0xf,'paddingTop':0x32,'textAlign':'center'},'description':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x10,'fontWeight':'400','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'textAlign':'center'},'statsContainer':{'gap':0x14,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xf,'verticalAlign':'middle','overflow':'scroll','contentOpaque':!![]},'stats':{'borderColor':'#009fe3','borderSize':0x1,'borderRadius':0x4b,'gap':0x0,'height':0x96,'horizontalAlign':'center','layout':'vertical','verticalAlign':'middle','minWidth':0x96,'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'400','paddingTop':0xa,'paddingLeft':0x5,'paddingRight':0x5},'mainValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'700'},'secondaryValue':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x14,'fontWeight':'700'},'label':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0xf,'fontWeight':'400'}},'calification':{'fontColor':'#009fe3','fontFamily':'Arial','fontSize':0x1e,'fontWeight':'700','textAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xa,'paddingTop':0xf,'verticalAlign':'middle','width':'100%'},'timeContainer':{'gap':0x5,'horizontalAlign':'center','paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0xf,'paddingTop':0xa,'verticalAlign':'middle','width':'100%'},'buttonsContainer':{'gap':0x8,'paddingLeft':0x64,'paddingRight':0x64,'paddingBottom':0x32,'paddingTop':0x23,'horizontalAlign':'center','verticalAlign':'middle','width':'100%','button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'}}}},'timeout':{'veil':{'backgroundColor':'#000000','backgroundOpacity':0.5},'window':{'backgroundColor':'#ffffff','horizontalAlign':'center','gap':0xf,'paddingBottom':0x37,'paddingLeft':0x50,'paddingRight':0x50,'paddingTop':0x2d,'icon':{'height':0x48,'url':'data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAUAAA/+4ADkFkb2JlAGTAAAAAAf/bAIQAAgICAgICAgICAgMCAgIDBAMCAgMEBQQEBAQEBQYFBQUFBQUGBgcHCAcHBgkJCgoJCQwMDAwMDAwMDAwMDAwMDAEDAwMFBAUJBgYJDQsJCw0PDg4ODg8PDAwMDAwPDwwMDAwMDA8MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgASAA+AwERAAIRAQMRAf/EAHQAAAICAwEBAAAAAAAAAAAAAAUGAAQCAwcBCQEBAAAAAAAAAAAAAAAAAAAAABAAAQMDAgMHAwMBCQAAAAAAAQIDBAARBSExQRITUWFxkbEiBoGhFFJiIzLB0UJygqJDYyQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APv5QSglBydzJZHqOf8AvkD3HQOqA37AaAjhZ85zJxG3Jjzja1EKQtxSgfaeBNB0eglBKANl8w1jGwkAOylj+NnsH6ld1BliMqjKMrVydN9mweQNtb2IPfagkzOY6EShb3VdTu017j9TsPOgQspNiTHELiQxFCebnItdZPEgCgu4fKwcekfkQuo8FEplJCSoAi1he3rQO8PKQZ+kd8Fe5aV7VeR3+lAMzGeGOdTHZbDz+inea4SlJ2GnE0FtOaiLxzmRTdSWQOqyP6kqJACT4k70CtmMLkPzJEhtKpTTpU51Li6Rvym54DagAMy5Mdt1pl5TSHwA6lJte1AQx+Em5ABxCQywf+degP8AlG5oGRr4lEAHWlPLVxKAlI+4VQYP/EmSD+NLWlXAOgKHmLelArTMfNxjiesko1u0+gnlJHYrTWg0uOyp8hBcUqRIc5W0Xtc8AKAyxgskmHNWptSFrSltuMCLrPUSSTrawtQHfk88x4yIjSrOSr9Qjg2N/M0ADAYkT3i++LxY5F0/rVvy+HbQPU5yRHhuKgsB15AAaatpa4GgFthwoKj7M/IYxpIc/AmL5VOBJI23FxqL70Hs5zJRIcZMNsTZCeRD61AkmwsVWuNzQEHWW5TBZkthSXUjqNnWx7j3dtBzDJwHMZMU1clH9cd3YlPD6igcUZhxeAdnJsZLIDTncskJ5v8AcDQLPyN0u5V8HZlKG0+HKCfuTQO+GYEbGRE2sVoDiz3r92vhe1B5jse5DclurmKlJlK5kg8N+8660HuQy8THKQh7nW64LpabAKrdupAoFub8pdc/jx7Jb5tA64AVa9iRcetBcw+PmtyBkslIUhxwFCGVq9yub9V9u4UGz5VHDkJqRb3sOWv+1eh+4FArQ3iMXmI99FJZcA7CHUg+ooJnkFGWmA8VJUP9SQaB9jtonYdhrnKUPxkIKk7j2gH70GzGx2IcYQ2ZAfMckOG4JCiSbEDbwoBmShz28i1lMe0iQtLfTWys2tuLi5Hb20GWHxKo6nps1pH5r6ytKRYhsHU2toCSeFBZyUGFknWGHpPTfYJWllC0hZSbX9pueG9BW+TrCMWtJ3dcQlP0PN/ZQJURJMLLK4BlsE95eRb0oDvyuIUvMTUj2OJ6Th7FDUeY9KC38XyCVsqx7irONErY70nUj6HWgJmNDwjc7IoS64XLKcRcHdWydBxPGguNZGM5BbnuK/HYcF/5NCNbW86DVkMozAitS+QyG3lJCCg6WUL3v4CgyRAiuy2sryrTIU2OUE2Aum2o7bG1An/JsgmTJTFaVzNRb86hsVnfy2oNkeEtr41PfKTzyihYH/WhabH1NA6zIrU2O7GeF0OC1+IPAjwoOYSosvEywlRLbrZ5mXk7KHAigbcf8ljPoDOQAZdtYu2u2rx7PSgPOtQslH6JKH45sQG1aC21ik0HqnYMFlDTjrbDTSQlCFqGw20OpoFTK/JeolUfHXSFaLkkWNv2jh4mgD4fEuZJ8FQKYrZ/nc7f2jvNB0zpt9Po8g6XLydO2nLa1reFBnQVZkKNOaLMlsLT/hVspJ7QeFAlTPi0tolUNYkt8EKISseeh86AKvFZJB5TAfJ/a2pQ8wDQZtYjJunlTBeB7VpKB5qtQMEH4qolLk90BO/QbNye4q/uoHJplphtLTKA22gWShOgFBsoP//Z','width':0x3e},'title':{'fontColor':'#000000','fontFamily':'Arial','fontSize':0x28,'fontWeight':'800','textAlign':'center','paddingBottom':0x14},'button':{'backgroundColor':'#009fe3','fontColor':'#ffffff','fontFamily':'Arial','fontSize':0xf,'fontWeight':'600','horizontalAlign':'center','paddingLeft':0x19,'paddingRight':0x19,'paddingTop':0xc,'paddingBottom':0xc,'verticalAlign':'middle'},'buttonsContainer':{'horizontalAlign':'center','width':'100%','gap':0xa}}}};eW['theme']='theme'in eW?this['mixObject'](eZ,eW['theme']):eZ;if(eW['player']['get']('isMobile')){var f0=this['mixObject'](eW['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14,'paddingLeft':0xa,'paddingRight':0xa}}}});eW['theme']=f0;}var f1=this['get']('data');var f2=document['getElementById']('metaViewport');var f3=f2?/initial-scale=(\d+(\.\d+)?)/['exec'](f2['getAttribute']('content')):undefined;var f4=f3?f3[0x1]:0x1;f1['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/f4,'maxHeight':0x258/f4,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'}}}};f1['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e,'paddingTop':0x1e},'stats':{'height':0x64}}}};var f5=new TDV['Quiz'](eW);f5['setMaxListeners'](0x32);if(eY===!![]){f5['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((f5['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+f5['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(f5['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+f5['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)f5['finish']();}['bind'](this));}if(eX===!![])f5['start']();f1['quiz']=f5;};TDV['Tour']['Script']['isCardboardViewMode']=function(){var f6=this['getByClassName']('PanoramaPlayer');return f6['length']>0x0&&f6[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(f7){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](f7['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(f8,f9){var fa='keepVisibility_'+f8['get']('id');var fb=this['getKey'](fa);if(fb==undefined&&f9){this['registerKey'](fa,f9);}else if(fb!=undefined&&!f9){this['unregisterKey'](fa);}};TDV['Tour']['Script']['_initItemWithComps']=function(fc,fd,fe,ff,fg,fh,fi,fj){var fk=fc['get']('items')[fd];var fl=fk['get']('media');var fm=fl['get']('loop')==undefined||fl['get']('loop');var fn=fj>0x0;var fo=this['rootPlayer'];var fp=function(fx){var fy=fh?fh['get']('class'):undefined;var fz=undefined;switch(fy){case'FadeInEffect':case'FadeOutEffect':fz=fo['createInstance'](fx?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':fz=fo['createInstance'](fx?'SlideInEffect':'SlideOutEffect');break;}if(fz){fz['set']('duration',fh['get']('duration'));fz['set']('easing',fh['get']('easing'));if(fy['indexOf']('Slide')!=-0x1)fz['set'](fx?'from':'to',fh['get'](fh['get']('class')=='SlideInEffect'?'from':'to'));}return fz;};var fq=function(){for(var fA=0x0,fB=fe['length'];fA<fB;++fA){var fC=fe[fA];if(fj>0x0){this['setComponentVisibility'](fC,!fg,0x0,fp(!fg));}else{var fD='visibility_'+fC['get']('id');if(this['existsKey'](fD)){if(this['getKey'](fD))this['setComponentVisibility'](fC,!![],0x0,fp(!![]));else this['setComponentVisibility'](fC,![],0x0,fp(![]));this['unregisterKey'](fD);}}}fk['unbind']('end',fq,this);if(!fm)fl['unbind']('end',fq,this);};var fr=function(){fk['unbind']('stop',fr,this,!![]);fk['unbind']('stop',fr,this);fk['unbind']('begin',fr,this,!![]);fk['unbind']('begin',fr,this);for(var fE=0x0,fF=fe['length'];fE<fF;++fE){this['keepCompVisible'](fe[fE],![]);}};var fs=function(fG,fH,fI){var fJ=function(){var fK=function(fO,fP,fQ){fo['setComponentVisibility'](fO,fP,fH,fQ,fP?'showEffect':'hideEffect',![]);if(fI>0x0){var fR=fH+fI+(fQ!=undefined?fQ['get']('duration'):0x0);fo['setComponentVisibility'](fO,!fP,fR,fp(!fP),fP?'hideEffect':'showEffect',!![]);}};for(var fL=0x0,fM=fe['length'];fL<fM;++fL){var fN=fe[fL];if(fg=='toggle'){if(!fN['get']('visible'))fK(fN,!![],fp(!![]));else fK(fN,![],fp(![]));}else{fK(fN,fg,fp(fg));}}fk['unbind'](fG,fJ,this);if(fG=='end'&&!fm)fl['unbind'](fG,fJ,this);};fk['bind'](fG,fJ,this);if(fG=='end'&&!fm)fl['bind'](fG,fJ,this);};if(ff=='begin'){for(var ft=0x0,fu=fe['length'];ft<fu;++ft){var fv=fe[ft];this['keepCompVisible'](fv,!![]);if(fn){var fw='visibility_'+fv['get']('id');this['registerKey'](fw,fv['get']('visible'));}}fk['bind']('stop',fr,this,!![]);fk['bind']('stop',fr,this);fk['bind']('begin',fr,this,!![]);fk['bind']('begin',fr,this);if(fn){fk['bind']('end',fq,this);if(!fm)fl['bind']('end',fq,this);}}else if(ff=='end'&&fj>0x0){fs('begin',fj,0x0);fj=0x0;}if(ff!=undefined)fs(ff,fi,fj);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(fS,fT){var fU=fS['get']('selectedIndex');var fV=fS['get']('items')['length'];var fW=(fU+fT)%fV;while(fW<0x0){fW=fV+fW;}if(fU!=fW){fS['set']('selectedIndex',fW);}};TDV['Tour']['Script']['mixObject']=function(fX,fY){return this['assignObjRecursively'](fY,this['copyObjRecursively'](fX));};TDV['Tour']['Script']['openLink']=function(fZ,g0){if(!fZ||fZ==location['href']){return;}var g1=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(g0=='_blank'&&g1){if(fZ['startsWith']('/')){var g2=window['location']['href']['split']('/');g2['pop']();fZ=g2['join']('/')+fZ;}var g3=fZ['split']('.')['pop']()['toLowerCase']();if(g3!='pdf'||fZ['startsWith']('file://')){var g4=window['require']('electron')['shell'];g4['openExternal'](fZ);}else{window['open'](fZ,g0);}}else if(g1&&(g0=='_top'||g0=='_self')){window['location']=fZ;}else{var g5=window['open'](fZ,g0);g5['focus']();}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(g6){var g7=this['getCurrentPlayers']();var g8=g7['length'];while(g8-->0x0){var g9=g7[g8];if(g9['get']('state')=='playing'||g9['get']('viewerArea')&&g9['get']('viewerArea')['get']('id')==this['MainViewer']||g9['get']('camera')&&g9['get']('camera')['get']('idleSequence')&&g9['get']('camera')['get']('timeToIdle')>0x0){var gb=this['getMediaFromPlayer'](g9);if(g6&&gb['get']('class')!='Video360'&&'pauseCamera'in g9){g9['pauseCamera']();}else{g9['pause']();}}else{g7['splice'](g8,0x1);}}return g7;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(gc,gd,ge){var gf=function(){if(gc['get']('selectedIndex')!=gd){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](ge);this['executeFunctionWhenChange'](gc,gd,gf,gf);};TDV['Tour']['Script']['pauseGlobalAudios']=function(gg){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var gh=this['getByClassName']('VideoPanoramaOverlay');for(var gj=gh['length']-0x1;gj>=0x0;--gj){var gk=gh[gj];var gl=gk['get']('data');if(gl&&gl['hasAudio']==![])gh['splice'](gj,0x1);}var gm=this['getByClassName']('Audio')['concat'](gh);if(window['currentGlobalAudios']!=undefined)gm=gm['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(gq){return gq['audio'];}));var gn=[];for(var gj=0x0,go=gm['length'];gj<go;++gj){var gp=gm[gj];if(gp['get']('state')=='playing'&&(gg==undefined||gg['indexOf'](gp)==-0x1)){gp['pause']();gn['push'](gp);}}window['pausedAudiosLIFO']['push'](gn);return gn;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;var gr=window['pausedAudiosLIFO']['pop']();for(var gs=0x0,gt=gr['length'];gs<gt;++gs){var gu=gr[gs];if(gu['get']('state')=='paused')gu['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(gv){var gw=window['currentGlobalAudios'];if(gw){var gx=gw[gv['get']('id')];if(gx)gv=gx['audio'];}if(gv['get']('state')=='playing')gv['pause']();};TDV['Tour']['Script']['playAudioList']=function(gy,gz){if(gy['length']==0x0)return;var gA=-0x1;var gB;var gC=this['playGlobalAudio'];var gD=function(){if(++gA>=gy['length']){if(!gz)return;gA=0x0;}gB=gy[gA];gC(gB,gD,!![]);};gD();};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(gE,gF,gG,gH,gI){var gJ=function(gV){if(gV['data']['previousSelectedIndex']==gF){this['stopGlobalAudio'](gG);if(gN){var gW=gM['get']('media');var gX=gW['get']('audios');gX['splice'](gX['indexOf'](gG),0x1);gW['set']('audios',gX);}gE['unbind']('change',gJ,this);if(gH)gH();}};var gL=window['currentGlobalAudios'];if(gL&&gG['get']('id')in gL){gG=gL[gG['get']('id')]['audio'];if(gG['get']('state')!='playing'){gG['play']();}return gG;}gE['bind']('change',gJ,this);var gM=gE['get']('items')[gF];var gN=gM['get']('class')=='PanoramaPlayListItem';if(gN){var gO=gM['get']('media');var gL=(gO['get']('audios')||[])['slice']();if(gG['get']('class')=='MediaAudio'){var gP=this['rootPlayer']['createInstance']('PanoramaAudio');gP['set']('autoplay',![]);gP['set']('audio',gG['get']('audio'));gP['set']('loop',gG['get']('loop'));gP['set']('id',gG['get']('id'));var gQ=gG['getBindings']('stateChange');for(var gR=0x0;gR<gQ['length'];++gR){var gS=gQ[gR];if(typeof gS=='string')gS=new Function('event',gS);gP['bind']('stateChange',gS,this);}gG=gP;}gL['push'](gG);gO['set']('audios',gL);}var gT=this['playGlobalAudio'](gG,gH);if(gI===!![]){var gU=function(){if(gT['get']('state')=='playing'){this['pauseGlobalAudios']([gT]);}else if(gT['get']('state')=='stopped'){this['resumeGlobalAudios']();gT['unbind']('stateChange',gU,this);}};gT['bind']('stateChange',gU,this);}return gT;};TDV['Tour']['Script']['playGlobalAudio']=function(gY,gZ,h0){var h1=function(){gY['unbind']('end',h1,this);this['stopGlobalAudio'](gY);if(gZ)gZ['call'](this);};gY=this['getGlobalAudio'](gY);var h2=window['currentGlobalAudios'];if(!h2){h2=window['currentGlobalAudios']={};}h2[gY['get']('id')]={'audio':gY,'asBackground':h0||![]};if(gY['get']('state')=='playing'){return gY;}if(!gY['get']('loop')){gY['bind']('end',h1,this);}gY['play']();return gY;};TDV['Tour']['Script']['resumePlayers']=function(h3,h4){for(var h5=0x0;h5<h3['length'];++h5){var h6=h3[h5];var h7=this['getMediaFromPlayer'](h6);if(!h7)continue;if(h4&&h7['get']('class')!='Video360'&&'pauseCamera'in h6){h6['resumeCamera']();}else{h6['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(h8){var h9=window['currentGlobalAudios'];var ha=this;if(h9){Object['keys'](h9)['forEach'](function(hb){var hc=h9[hb];if(!h8||h8&&!hc['asBackground']){ha['stopGlobalAudio'](hc['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(hd){var he=window['currentGlobalAudios'];if(he){var hf=he[hd['get']('id')];if(hf){hd=hf['audio'];delete he[hd['get']('id')];if(Object['keys'](he)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(hd)hd['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(hg,hh){var hi=this['getCurrentPlayerWithMedia'](hh);if(hi!=undefined){var hj=hg['get']('initialPosition');hj['set']('yaw',hi['get']('yaw'));hj['set']('pitch',hi['get']('pitch'));hj['set']('hfov',hi['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(hk,hl,hm,hn,ho,hp){var hq=this['getKey']('keepVisibility_'+hk['get']('id'));if(hq)return;this['unregisterKey']('visibility_'+hk['get']('id'));var hr=function(){if(hn&&ho){hk['set'](ho,hn);}hk['set']('visible',hl);if(hk['get']('class')=='ViewerArea'){try{if(hl)hk['restart']();else if(hk['get']('playbackState')=='playing')hk['pause']();}catch(hw){};}};var hs='effectTimeout_'+hk['get']('id');if(!hp&&window['hasOwnProperty'](hs)){var hu=window[hs];if(hu instanceof Array){for(var hv=0x0;hv<hu['length'];hv++){clearTimeout(hu[hv]);}}else{clearTimeout(hu);}delete window[hs];}else if(hl==hk['get']('visible')&&!hp)return;if(hm&&hm>0x0){var hu=setTimeout(function(){if(window[hs]instanceof Array){var hx=window[hs];var hy=hx['indexOf'](hu);hx['splice'](hy,0x1);if(hx['length']==0x0){delete window[hs];}}else{delete window[hs];}hr();},hm);if(window['hasOwnProperty'](hs)){window[hs]=[window[hs],hu];}else{window[hs]=hu;}}else{hr();}};TDV['Tour']['Script']['setLocale']=function(hz){this['stopTextToSpeech']();this['get']('data')['localeManager']['setLocale'](hz);};TDV['Tour']['Script']['setEndToItemIndex']=function(hA,hB,hC){var hD=function(){if(hA['get']('selectedIndex')==hB){var hE=hA['get']('items')[hC];var hF=hE['get']('player');if(hF){var hG=hF['get']('viewerArea');if(hG&&hG['get']('translationTransitionEnabled')==!![]){var hH=function(hI){var hJ=hI['source'];hJ['unbind']('begin',hH,this);hG['set']('translationTransitionEnabled',!![]);};hG['set']('translationTransitionEnabled',![]);hE['bind']('begin',hH,this);}}hA['set']('selectedIndex',hC);}};this['executeFunctionWhenChange'](hA,hB,hD);};TDV['Tour']['Script']['setMapLocation']=function(hK,hL){var hM=function(){hK['unbind']('stop',hM,this);hN['set']('mapPlayer',null);};hK['bind']('stop',hM,this);var hN=hK['get']('player');hN['set']('mapPlayer',hL);};TDV['Tour']['Script']['setMainMediaByIndex']=function(hO){var hP=undefined;if(hO>=0x0&&hO<this['mainPlayList']['get']('items')['length']){this['mainPlayList']['set']('selectedIndex',hO);hP=this['mainPlayList']['get']('items')[hO];}return hP;};TDV['Tour']['Script']['setMainMediaByName']=function(hQ){var hR=this['_getPlayListsWithViewer'](this['MainViewer']);for(var hS=0x0,hT=hR['length'];hS<hT;++hS){var hU=hR[hS];var hV=hU['get']('items');for(var hW=0x0,hX=hV['length'];hW<hX;++hW){var hY=hV[hW];var hZ=hY['get']('media')['get']('data');if(hZ!==undefined&&hZ['label']==hQ&&hY['get']('player')['get']('viewerArea')==this['MainViewer']){hU['set']('selectedIndex',hW);return hY;}}}};TDV['Tour']['Script']['setMediaBehaviour']=function(i0,i1,i2,i3){var i4=this;var i5=function(iu){if(iu['data']['state']=='stopped'&&i3){i9['call'](this,!![]);}};var i6=function(){ig['unbind']('begin',i6,i4);var iv=ig['get']('media');if(iv['get']('class')!='Panorama'||iv['get']('camera')!=undefined&&iv['get']('camera')['get']('initialSequence')!=undefined){ih['bind']('stateChange',i5,i4);}};var i7=function(){var iw=ic['get']('selectedIndex');if(iw!=-0x1){ie=iw;i9['call'](this,![]);}};var i8=function(){i9['call'](this,![]);};var i9=function(ix){if(!ic)return;var iy=ig['get']('media');if((iy['get']('class')=='Video360'||iy['get']('class')=='Video')&&iy['get']('loop')==!![]&&!ix)return;i0['set']('selectedIndex',-0x1);if(ip&&io!=-0x1){if(ip){if(io>0x0&&ip['get']('movements')[io-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var iz=iq['get']('initialPosition');var iA=iz['get']('yaw');var iB=iz['get']('pitch');var iC=iz['get']('hfov');var iD=ip['get']('movements')[io-0x1];iz['set']('yaw',iD['get']('targetYaw'));iz['set']('pitch',iD['get']('targetPitch'));iz['set']('hfov',iD['get']('targetHfov'));var iE=function(iH){iz['set']('yaw',iA);iz['set']('pitch',iB);iz['set']('hfov',iC);ij['unbind']('end',iE,this);};ij['bind']('end',iE,this);}ip['set']('movementIndex',io);}}if(ih){ig['unbind']('begin',i6,this);ih['unbind']('stateChange',i5,this);for(var iF=0x0;iF<ir['length'];++iF){ir[iF]['unbind']('click',i8,this);}}if(im){var iG=this['getMediaFromPlayer'](ih);if(ic['get']('items')['length']>0x1&&(iG==undefined||iG==ig['get']('media'))){ic['set']('selectedIndex',ie);}if(i0!=ic)ic['unbind']('change',i7,this);}else{ik['set']('visible',il);}ic=undefined;};if(!i2){var ia=i0['get']('selectedIndex');var ib=ia!=-0x1?i0['get']('items')[i0['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['MainViewer']);if(ib){i2=this['getMediaFromPlayer'](ib);}}var ic=undefined;if(i2){var id=this['getPlayListsWithMedia'](i2,!![]);ic=id['indexOf'](i0)!=-0x1?i0:id['length']>0x0?id[0x0]:undefined;}if(!ic){i0['set']('selectedIndex',i1);return;}var ie=ic['get']('selectedIndex');var ig=i0['get']('items')[i1];var ih=ig['get']('player');var ii=this['getMediaFromPlayer'](ih);if(i0['get']('selectedIndex')==i1&&ii==ig['get']('media')||ie==-0x1){return;}if(i0['get']('selectedIndex')==i1&&ii!=ig['get']('media'))i0['set']('selectedIndex',-0x1);var ij=ic['get']('items')[ie];var ik=ih['get']('viewerArea');var il=ik['get']('visible');var im=ik==ij['get']('player')['get']('viewerArea');if(im){if(i0!=ic){ic['set']('selectedIndex',-0x1);ic['bind']('change',i7,this);}}else{ik['set']('visible',!![]);}var io=-0x1;var ip=undefined;var iq=ij['get']('camera');if(iq){ip=iq['get']('initialSequence');if(ip){io=ip['get']('movementIndex');}}i0['set']('selectedIndex',i1);var ir=[];var is=function(iI){var iJ=ih['get'](iI);if(iJ==undefined)return;if(Array['isArray'](iJ))ir=ir['concat'](iJ);else ir['push'](iJ);};is('buttonStop');for(var it=0x0;it<ir['length'];++it){ir[it]['bind']('click',i8,this);}ig['bind']('begin',i6,i4);i3;this['executeFunctionWhenChange'](i0,i1,i3?i8:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(iK,iL,iM,iN){var iO=function(){switch(iM){case'triggerClick':this['triggerOverlay'](iK,'click');break;case'stop':case'play':case'pause':iK[iM]();break;case'togglePlayPause':case'togglePlayStop':if(iK['get']('state')=='playing')iK[iM=='togglePlayPause'?'pause':'stop']();else iK['play']();break;}if(iN){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var iT=iK['get']('id');window['overlaysDispatched'][iT]=!![];setTimeout(function(){delete window['overlaysDispatched'][iT];},0x3e8);}};if(iN&&window['overlaysDispatched']!=undefined&&iK['get']('id')in window['overlaysDispatched'])return;var iP=this['getFirstPlayListWithMedia'](iL,!![]);if(iP!=undefined){var iQ=this['getPlayListItemByMedia'](iP,iL);var iR=iQ['get']('player');if(iP['get']('items')['indexOf'](iQ)!=iP['get']('selectedIndex')||this['isPanorama'](iQ['get']('media'))&&iR['get']('rendererPanorama')!=iQ['get']('media')){var iS=function(iU){iQ['unbind']('begin',iS,this);iO['call'](this);};iQ['bind']('begin',iS,this);return;}}iO['call'](this);};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(iV){var iW=this['getActiveMediaWithViewer'](this['MainViewer']);if(iW!=undefined&&(iW['get']('class')['indexOf']('Panorama')!=-0x1||iW['get']('class')=='Video360')){var iX=iV['get']('media');var iY=this['cloneCamera'](iV['get']('camera'));this['setCameraSameSpotAsMedia'](iY,iW);this['startPanoramaWithCamera'](iX,iY);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(iZ,j0,j1,j2,j3){var j4=iZ['get']('selectedIndex');var j5=iZ['get']('items');var j6=j0['get']('player');if(j5[j4]==j0||j6['get']('rendererPanorama')==j0['get']('media')){j6['moveTo'](j1||j6['get']('yaw'),j2||j6['get']('pitch'),j6['get']('roll'),j3||j6['get']('hfov'));}else{var j7=j0['get']('media');var j8=this['cloneCamera'](j0['get']('camera'));var j9=j8['get']('initialPosition');j9['set']('yaw',j1);j9['set']('pitch',j2);if(j3)j9['set']('hfov',j3);this['startPanoramaWithCamera'](j7,j8);}};TDV['Tour']['Script']['setValue']=function(ja,jb,jc){if('set'in ja)ja['set'](jb,jc);else ja[jb]=jc;};TDV['Tour']['Script']['setStartTimeVideo']=function(jd,je){var jf=this['getPlayListItems'](jd);var jg=[];var jh=function(){for(var jl=0x0;jl<jf['length'];++jl){var jm=jf[jl];jm['set']('startTime',jg[jl]);jm['unbind']('stop',jh,this);}};for(var ji=0x0;ji<jf['length'];++ji){var jj=jf[ji];var jk=jj['get']('player');if(jk['get']('video')==jd&&jk['get']('state')=='playing'){jk['seek'](je);}else{jg['push'](jj['get']('startTime'));jj['set']('startTime',je);jj['bind']('stop',jh,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(jn,jo){if(jn&&jo)this['setStartTimeVideo'](jn,jo['get']('currentTime'));};TDV['Tour']['Script']['shareSocial']=function(jp,jq,jr,js){if(jr){this['updateDeepLink']();}if(jq==undefined){jq=jr?location['href']:location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}else if(jr){jq+=location['hash'];}jq=function(ju){switch(ju){case'fb':var jv=jq['indexOf']('?')!=-0x1;jq=jq['replace']('#','?');if(jv){var jw=jq['lastIndexOf']('?');jq=jq['substring'](0x0,jw)+'&'+jq['substring'](jw+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(jq);case'li':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(jq);case'pt':return'https://pinterest.com/pin/create/button/?url='+jq;case'tw':return'https://twitter.com/intent/tweet?source=webclient&url='+jq;case'wa':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(jq);default:return undefined;}}(jp);if(js){for(var jt in js){jq+='&'+jt+'='+js[jt];}}this['openLink'](jq,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(jx,jy,jz){var jA=function(jE){for(var jF=0x0,jG=jy['length'];jF<jG;jF++){var jH=jy[jF];if(jH['get']('class')=='HTMLText'&&(jH['get']('html')==''||jH['get']('html')==undefined)){continue;}jH['set']('visible',jE);}};if(this['rootPlayer']['get']('touchDevice')==!![]){jA(!![]);}else{var jB=-0x1;var jC=function(){jA(!![]);if(jB>=0x0)clearTimeout(jB);jx['unbind']('rollOver',jC,this);jx['bind']('rollOut',jD,this);};var jD=function(){var jI=function(){jA(![]);jx['unbind']('rollOver',jC,this);};jx['unbind']('rollOut',jD,this);jx['bind']('rollOver',jC,this);jB=setTimeout(jI,jz);};jx['bind']('rollOver',jC,this);}};TDV['Tour']['Script']['showPopupMedia']=function(jJ,jK,jL,jM,jN,jO){var jP=this;var jQ=function(){jL['set']('selectedIndex',-0x1);jP['MainViewer']['set']('toolTipEnabled',!![]);this['resumePlayers'](jV,!![]);if(jU){this['unbind']('resize',jS,this);}jJ['unbind']('close',jQ,this);};var jR=function(){jJ['hide']();};var jS=function(){var jW=function(kd){return jJ['get'](kd)||0x0;};var jX=jP['get']('actualWidth');var jY=jP['get']('actualHeight');var jZ=jP['getMediaWidth'](jK);var k0=jP['getMediaHeight'](jK);var k1=parseFloat(jM)/0x64;var k2=parseFloat(jN)/0x64;var k3=k1*jX;var k4=k2*jY;var k5=jW('footerHeight');var k6=jW('headerHeight');if(!k6){var k7=jW('closeButtonIconHeight')+jW('closeButtonPaddingTop')+jW('closeButtonPaddingBottom');var k8=jP['getPixels'](jW('titleFontSize'))+jW('titlePaddingTop')+jW('titlePaddingBottom');k6=k7>k8?k7:k8;k6+=jW('headerPaddingTop')+jW('headerPaddingBottom');}var k9=k3-jW('bodyPaddingLeft')-jW('bodyPaddingRight')-jW('paddingLeft')-jW('paddingRight');var ka=k4-k6-k5-jW('bodyPaddingTop')-jW('bodyPaddingBottom')-jW('paddingTop')-jW('paddingBottom');var kb=k9/ka;var kc=jZ/k0;if(kb>kc){k3=ka*kc+jW('bodyPaddingLeft')+jW('bodyPaddingRight')+jW('paddingLeft')+jW('paddingRight');}else{k4=k9/kc+k6+k5+jW('bodyPaddingTop')+jW('bodyPaddingBottom')+jW('paddingTop')+jW('paddingBottom');}if(k3>jX*k1){k3=jX*k1;}if(k4>jY*k2){k4=jY*k2;}jJ['set']('width',k3);jJ['set']('height',k4);jJ['set']('x',(jX-jW('actualWidth'))*0.5);jJ['set']('y',(jY-jW('actualHeight'))*0.5);};if(jO){this['executeFunctionWhenChange'](jL,0x0,jR);}var jT=jK['get']('class');var jU=jT=='Video'||jT=='Video360';jL['set']('selectedIndex',0x0);if(jU){this['bind']('resize',jS,this);jS();jL['get']('items')[0x0]['get']('player')['play']();}else{jJ['set']('width',jM);jJ['set']('height',jN);}this['MainViewer']['set']('toolTipEnabled',![]);var jV=this['pauseCurrentPlayers'](!![]);jJ['bind']('close',jQ,this);jJ['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(ke,kf,kg,kh,ki,kj,kk,kl,km,kn,ko,kp){var kq=this;var kr=![];var ks=function(){kJ['unbind']('loaded',kv,kq);kz();};var kt=function(){kJ['unbind']('click',kt,this);if(kN!=undefined){clearTimeout(kN);}};var ku=function(){setTimeout(kD,0x0);};var kv=function(){kq['unbind']('click',ks,kq);kI['set']('visible',!![]);kD();kK['set']('visible',!![]);kJ['unbind']('loaded',kv,this);kJ['bind']('userInteractionStart',kE,this);kJ['bind']('userInteractionEnd',kF,this);kJ['bind']('resize',ku,this);kN=setTimeout(kw,0xc8);};var kw=function(){kN=undefined;if(kl){kJ['bind']('click',kt,this);ky();}kJ['bind']('backgroundClick',kz,this);if(kf){kJ['bind']('click',kB,this);kJ['set']('imageCursor','hand');}kK['bind']('click',kz,this);if(ko)ko();};var kx=function(){if(kl&&kN){clearTimeout(kN);kN=undefined;}};var ky=function(){if(kl){kx();kN=setTimeout(kz['bind'](this),kl);}};var kz=function(){kq['MainViewer']['set']('toolTipEnabled',!![]);kr=!![];if(kN)clearTimeout(kN);if(kO)clearTimeout(kO);if(kl)kt();if(kp)kp();kJ['set']('visible',![]);if(kj&&kj['get']('duration')>0x0){kj['bind']('end',kA,this);}else{kJ['set']('image',null);}kK['set']('visible',![]);kI['set']('visible',![]);kq['unbind']('click',ks,kq);kJ['unbind']('backgroundClick',kz,this);kJ['unbind']('userInteractionStart',kE,this);kJ['unbind']('userInteractionEnd',kF,this,!![]);kJ['unbind']('resize',ku,this);if(kf){kJ['unbind']('click',kB,this);kJ['set']('cursor','default');}kK['unbind']('click',kz,this);kq['resumePlayers'](kM,km==null||kn);if(kn){kq['resumeGlobalAudios']();}if(km){kq['stopGlobalAudio'](km);}};var kA=function(){kJ['set']('image',null);kj['unbind']('end',kA,this);};var kB=function(){kJ['set']('image',kC()?ke:kf);};var kC=function(){return kJ['get']('image')==kf;};var kD=function(){var kP=kJ['get']('actualWidth')-kJ['get']('imageLeft')-kJ['get']('imageWidth')+0xa;var kQ=kJ['get']('imageTop')+0xa;if(kP<0xa)kP=0xa;if(kQ<0xa)kQ=0xa;kK['set']('right',kP);kK['set']('top',kQ);};var kE=function(){kx();if(kO){clearTimeout(kO);kO=undefined;}else{kK['set']('visible',![]);}};var kF=function(){ky();if(!kr){kO=setTimeout(kG,0x12c);}};var kG=function(){kO=undefined;kK['set']('visible',!![]);kD();};var kH=function(kR){var kS=kR['get']('data');if(kS&&'extraLevels'in kS){var kT=kq['rootPlayer']['createInstance'](kR['get']('class'));var kU=kS['extraLevels'];kT['set']('levels',kR['get']('levels')['concat'](kU));kR=kT;}return kR;};this['MainViewer']['set']('toolTipEnabled',![]);var kI=this['veilPopupPanorama'];var kJ=this['zoomImagePopupPanorama'];var kK=this['closeButtonPopupPanorama'];if(kk){for(var kL in kk){kK['set'](kL,kk[kL]);}}var kM=this['pauseCurrentPlayers'](km==null||!kn);if(kn){this['pauseGlobalAudios']();}if(km){this['playGlobalAudio'](km);}var kN=undefined;var kO=undefined;ke=kH(ke);if(kf)kf=kH(kf);kJ['bind']('loaded',kv,this);setTimeout(function(){kq['bind']('click',ks,kq,![]);},0x0);kJ['set']('image',ke);kJ['set']('customWidth',kg);kJ['set']('customHeight',kh);kJ['set']('showEffect',ki);kJ['set']('hideEffect',kj);kJ['set']('visible',!![]);return kJ;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(kV,kW,kX,kY,kZ,l0,l1){var l2=this;this['MainViewer']['set']('toolTipEnabled',![]);var l3=this['isCardboardViewMode']();if(!l3){var l4=this['zoomImagePopupPanorama'];var l5=kV['get']('showDuration');var l6=kV['get']('hideDuration');var l8=this['pauseCurrentPlayers'](l0==null||!l1);var l9=kV['get']('popupMaxWidth');var la=kV['get']('popupMaxHeight');var lb=function(){var le=function(){if(!l2['isCardboardViewMode']())kV['set']('visible',![]);};kV['unbind']('showEnd',lb,l2);kV['set']('showDuration',0x1);kV['set']('hideDuration',0x1);l2['showPopupImage'](kX,kY,kV['get']('popupMaxWidth'),kV['get']('popupMaxHeight'),null,null,kW,kZ,l0,l1,le,lc);};var lc=function(){var lf=function(){kV['unbind']('showEnd',lf,l2);kV['set']('visible',![]);kV['set']('showDuration',l5);kV['set']('popupMaxWidth',l9);kV['set']('popupMaxHeight',la);};l2['resumePlayers'](l8,l0==null||!l1);var lg=l4['get']('imageWidth');var lh=l4['get']('imageHeight');kV['bind']('showEnd',lf,l2,!![]);kV['set']('showDuration',0x1);kV['set']('hideDuration',l6);kV['set']('popupMaxWidth',lg);kV['set']('popupMaxHeight',lh);if(kV['get']('visible'))lf();else kV['set']('visible',!![]);l2['MainViewer']['set']('toolTipEnabled',!![]);};kV['bind']('showEnd',lb,this,!![]);}else{var ld=function(){l2['resumePlayers'](l8,l0==null||l1);if(l1){l2['resumeGlobalAudios']();}if(l0){l2['stopGlobalAudio'](l0);}kV['unbind']('hideEnd',ld,l2);l2['MainViewer']['set']('toolTipEnabled',!![]);};var l8=this['pauseCurrentPlayers'](l0==null||!l1);if(l1){this['pauseGlobalAudios']();}if(l0){this['playGlobalAudio'](l0);}kV['bind']('hideEnd',ld,this,!![]);}kV['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(li,lj,lk){var ll=this;var lm=function(){li['unbind']('showEnd',lm);lq['bind']('click',lo,this);lp();lq['set']('visible',!![]);};var ln=function(){if(!li['get']('loop'))lo();};var lo=function(){ll['MainViewer']['set']('toolTipEnabled',!![]);li['set']('visible',![]);lq['set']('visible',![]);lq['unbind']('click',lo,ll);li['unbind']('end',ln,ll);li['unbind']('hideEnd',lo,ll,!![]);ll['resumePlayers'](ls,!![]);if(lk){ll['resumeGlobalAudios']();}};var lp=function(){var lt=0xa;var lu=0xa;lq['set']('right',lt);lq['set']('top',lu);};this['MainViewer']['set']('toolTipEnabled',![]);var lq=this['closeButtonPopupPanorama'];if(lj){for(var lr in lj){lq['set'](lr,lj[lr]);}}var ls=this['pauseCurrentPlayers'](!![]);if(lk){this['pauseGlobalAudios']();}li['bind']('end',ln,this,!![]);li['bind']('showEnd',lm,this,!![]);li['bind']('hideEnd',lo,this,!![]);li['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(lv,lw,lx){if(lv['get']('visible')==!![]){return;}var ly=function(){this['MainViewer']['set']('toolTipEnabled',!![]);if(lx){this['resumeGlobalAudios']();}lz();this['resumePlayers'](lC,!lx);lv['unbind']('close',ly,this);};var lz=function(){lv['unbind']('click',lz,this);if(lA!=undefined){clearTimeout(lA);}};var lA=undefined;if(lw){var lB=function(){lv['hide']();};lv['bind']('click',lz,this);lA=setTimeout(lB,lw);}this['MainViewer']['set']('toolTipEnabled',![]);if(lx){this['pauseGlobalAudios']();}var lC=this['pauseCurrentPlayers'](!lx);lv['bind']('close',ly,this);lv['show'](this,!![]);};TDV['Tour']['Script']['startPanoramaWithCamera']=function(lD,lE){var lF=this['getByClassName']('PlayList');if(lF['length']==0x0)return;var lG=window['currentPanoramasWithCameraChanged']==undefined||!(lD['get']('id')in window['currentPanoramasWithCameraChanged']);var lH=[];for(var lJ=0x0,lK=lF['length'];lJ<lK;++lJ){var lL=lF[lJ];var lM=lL['get']('items');for(var lN=0x0,lO=lM['length'];lN<lO;++lN){var lQ=lM[lN];if(lQ['get']('media')==lD&&(lQ['get']('class')=='PanoramaPlayListItem'||lQ['get']('class')=='Video360PlayListItem')){if(lG){lH['push']({'camera':lQ['get']('camera'),'item':lQ});}lQ['set']('camera',lE);}}}if(lH['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var lR=lD['get']('id');window['currentPanoramasWithCameraChanged'][lR]=lH;var lS=function(){if(lR in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][lR];}for(var lX=0x0;lX<lH['length'];lX++){lH[lX]['item']['set']('camera',lH[lX]['camera']);lH[lX]['item']['unbind']('end',lS,this);}};var lT=function(lY){var lZ=lY['source'];lZ['unbind']('begin',lT,this);lZ['get']('player')['get']('viewerArea')['set']('translationTransitionEnabled',!![]);};for(var lJ=0x0;lJ<lH['length'];lJ++){var lU=lH[lJ];var lQ=lU['item'];var lV=lQ['get']('player');if(lV){var lW=lV['get']('viewerArea');if(lW&&lW['get']('translationTransitionEnabled')==!![]){lW['set']('translationTransitionEnabled',![]);lQ['bind']('begin',lT,this);}}lQ['bind']('end',lS,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(m0,m1){var m2=m0['get']('initialSequence');m2['pause']();var m3=function(){m2['play']();};setTimeout(m3,m1);};TDV['Tour']['Script']['syncPlaylists']=function(m4){var m5=function(md,me){for(var mf=0x0,mg=m4['length'];mf<mg;++mf){var mh=m4[mf];if(mh!=me){var mi=mh['get']('items');for(var mj=0x0,mk=mi['length'];mj<mk;++mj){if(mi[mj]['get']('media')==md){if(mh['get']('selectedIndex')!=mj){mh['set']('selectedIndex',mj);}break;}}}}};var m6=function(ml){var mm=ml['source'];var mn=mm['get']('selectedIndex');if(mn<0x0)return;var mo=mm['get']('items')[mn]['get']('media');m5(mo,mm);};var m7=function(mp){var mq=mp['source']['get']('panoramaMapLocation');if(mq){var mr=mq['get']('map');m5(mr);}};for(var m9=0x0,mb=m4['length'];m9<mb;++m9){m4[m9]['bind']('change',m6,this);}var mc=this['getByClassName']('MapPlayer');for(var m9=0x0,mb=mc['length'];m9<mb;++m9){mc[m9]['bind']('panoramaMapLocation_change',m7,this);}};TDV['Tour']['Script']['translate']=function(ms){return this['get']('data')['localeManager']['trans'](ms);};TDV['Tour']['Script']['triggerOverlay']=function(mt,mu){if(mt['get']('areas')!=undefined){var mv=mt['get']('areas');for(var mw=0x0;mw<mv['length'];++mw){mv[mw]['trigger'](mu);}}else{mt['trigger'](mu);}};TDV['Tour']['Script']['updateDeepLink']=function(){var mx=this['mainPlayList']['get']('selectedIndex');if(mx>=0x0){location['hash']='#media='+(mx+0x1);}else{var my=this['getActiveMediaWithViewer'](this['MainViewer']);if(my!=undefined){var mz=my['get']('data');if(mz){location['hash']='#media-name='+mz['label'];}}}};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(mA,mB,mC){var mD=function(){var mF=mA['get']('selectedIndex');if(mF>=0x0){var mG=function(){mJ['unbind']('begin',mG);mH(mF);};var mH=function(mK){var mL=mJ['get']('media');var mM=mL['get']('data');var mN=mM!==undefined?mM['description']||mL['get']('label'):mL['get']('label');mI(mN);};var mI=function(mO){if(mO!==undefined){mB['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+mO+'</SPAN></div>');}else{mB['set']('html','');}};var mJ=mA['get']('items')[mF];if(mB['get']('html')){mI('Loading...');mJ['bind']('begin',mG);}else{mH(mF);}}};var mE=function(){mB['set']('html',undefined);mA['unbind']('change',mD,this);mC['unbind']('stop',mE,this);};if(mC){mC['bind']('stop',mE,this);}mA['bind']('change',mD,this);mD();};TDV['Tour']['Script']['updateVideoCues']=function(mP,mQ){var mR=mP['get']('items')[mQ];var mS=mR['get']('media');if(mS['get']('cues')['length']==0x0)return;var mT=mR['get']('player');var mU=[];var mV=function(){if(mP['get']('selectedIndex')!=mQ){mS['unbind']('cueChange',mW,this);mP['unbind']('change',mV,this);}};var mW=function(mX){var mY=mX['data']['activeCues'];for(var mZ=0x0,n0=mU['length'];mZ<n0;++mZ){var n1=mU[mZ];if(mY['indexOf'](n1)==-0x1&&(n1['get']('startTime')>mT['get']('currentTime')||n1['get']('endTime')<mT['get']('currentTime')+0.5)){n1['trigger']('end');}}mU=mY;};mS['bind']('cueChange',mW,this);mP['bind']('change',mV,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(n2,n3){var n4=this['get'](n3);for(var n5 in n2){n2[n5]['set']('visible',n4);}};TDV['Tour']['Script']['quizStart']=function(){var n6=this['get']('data')['quiz'];return n6?n6['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var n7=this['get']('data')['quiz'];return n7?n7['finish']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(n8){var n9=this['get']('data')['quiz'];if(n9)n9['setItemFound'](n8);};TDV['Tour']['Script']['quizShowQuestion']=function(na){var nb=this['get']('data');var nc=nb['quiz'];var nd;if(nc){var ne=this['pauseCurrentPlayers'](!![]);var nf=this[na];var ng;if(!nf['media']){ng=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){ng={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}var nh=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!nf['title'];if(nh)this['textToSpeech'](nf['title'],na);nd=nc['showQuestion'](na,ng);nd['then'](function(ni){if(nh)this['stopTextToSpeech']();this['resumePlayers'](ne,!![]);}['bind'](this));}return nd;};TDV['Tour']['Script']['quizShowScore']=function(nj){var nk=this['get']('data');var nl=nk['quiz'];if(nl){if(this['get']('isMobile')){nj=nj||{};nj=this['mixObject'](nj,nk[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return nl['showScore'](nj);}};TDV['Tour']['Script']['quizShowTimeout']=function(nm,nn){var no=this['get']('data');var np=no['quiz'];if(np){if(this['get']('isMobile')){nn=nn||{};nn=this['mixObject'](nn,no[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}np['showTimeout'](nm,nn);}};TDV['Tour']['Script']['stopTextToSpeech']=function(nq){if(window['speechSynthesis']&&(nq==undefined||this['t2sLastID']==nq)){var nr=window['speechSynthesis'];if(nr['speaking']){nr['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['textToSpeech']=function(ns,nt){if(window['speechSynthesis']){var nu=window['speechSynthesis'];if(nt!=undefined&&this['t2sLastID']!=nt||nt==undefined){if(nu['speaking']){nu['cancel']();}this['t2sLastID']=nt;var nv=new SpeechSynthesisUtterance(ns);var nw=this['get']('data');var nx=nw['localeManager']['currentLocaleID'];if(nx)nv['lang']=nx;var ny=nw['textToSpeechConfig'];if(ny){nv['volume']=ny['volume'];nv['pitch']=ny['pitch'];nv['rate']=ny['rate'];}nv['onend']=function(){this['t2sLastID']=null;}['bind'](this);nu['speak'](nv);}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}};TDV['Tour']['Script']['textToSpeechComponent']=function(nz){var nA=nz['get']('class');var nB;if(nA=='HTMLText'){nB=this['htmlToPlainText'](nz['get']('html'));}if(nB){this['textToSpeech'](nB,nz['get']('id'));}};TDV['Tour']['Script']['_initTTSTooltips']=function(){function nC(nE){var nF=nE['source'];this['textToSpeech'](nF['get']('toolTip'),nF['get']('id'));}function nD(nG){var nH=nG['source'];this['stopTextToSpeech'](nH['get']('id'));}setTimeout(function(){var nI=this['getByClassName']('UIComponent');for(var nJ=0x0,nK=nI['length'];nJ<nK;++nJ){var nL=nI[nJ];var nM=nL['get']('toolTip');if(!!nM||nL['get']('class')=='ViewerArea'){nL['bind']('toolTipShow',nC,this);nL['bind']('toolTipHide',nD,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(nN,nO){var nP=function(o3,o4){var o5='';for(var o6=0x0;o6<o4;o6+=0x1){o5+=o3;}return o5;};var nQ=null;var nR=null;var nS='underline';var nT='indention';var nU='-';var nV=0x3;var nW='-';var nX=![];if(!!nO){if(typeof nO['linkProcess']==='function'){nQ=nO['linkProcess'];}if(typeof nO['imgProcess']==='function'){nR=nO['imgProcess'];}if(!!nO['headingStyle']){nS=nO['headingStyle'];}if(!!nO['listStyle']){nT=nO['listStyle'];}if(!!nO['uIndentionChar']){nU=nO['uIndentionChar'];}if(!!nO['listIndentionTabs']){nV=nO['listIndentionTabs'];}if(!!nO['oIndentionChar']){nW=nO['oIndentionChar'];}if(!!nO['keepNbsps']){nX=nO['keepNbsps'];}}var nY=nP(nU,nV);var nZ=String(nN)['replace'](/\n|\r/g,'\x20');const o0=nZ['match'](/<\/body>/i);if(o0){nZ=nZ['substring'](0x0,o0['index']);}const o1=nZ['match'](/<body[^>]*>/i);if(o1){nZ=nZ['substring'](o1['index']+o1[0x0]['length'],nZ['length']);}nZ=nZ['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');nZ=nZ['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');nZ=nZ['replace'](/<img([^>]*)>/gi,function(o7,o8){var o9='';var oa='';var ob=/src="([^"]*)"/i['exec'](o8);var oc=/alt="([^"]*)"/i['exec'](o8);if(ob!==null){o9=ob[0x1];}if(oc!==null){oa=oc[0x1];}if(typeof nR==='function'){return nR(o9,oa);}if(oa===''){return'![image]\x20('+o9+')';}return'!['+oa+']\x20('+o9+')';});function o2(){return function(od,oe,of,og){var oh=0x0;if(of&&/start="([0-9]+)"/i['test'](of)){oh=/start="([0-9]+)"/i['exec'](of)[0x1]-0x1;}var oi='<p>'+og['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(oj,ok){var ol=0x0;var om=ok['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(oe==='o'&&ol===0x0){oh+=0x1;ol+=0x1;return'<br\x20/>'+oh+nP(nW,nV-String(oh)['length']);}return'<br\x20/>'+nY;});return om;})+'</p>';return oi;};}if(nT==='linebreak'){nZ=nZ['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(nT==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](nZ)){nZ=nZ['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,o2());}}if(nS==='linebreak'){nZ=nZ['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(nS==='underline'){nZ=nZ['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(on,oo){return'\x0a&nbsp;\x0a'+oo+'\x0a'+nP('=',oo['length'])+'\x0a&nbsp;\x0a';});nZ=nZ['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(op,oq){return'\x0a&nbsp;\x0a'+oq+'\x0a'+nP('-',oq['length'])+'\x0a&nbsp;\x0a';});nZ=nZ['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(or,os,ot){return'\x0a&nbsp;\x0a'+ot+'\x0a&nbsp;\x0a';});}else if(nS==='hashify'){nZ=nZ['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(ou,ov,ow){return'\x0a&nbsp;\x0a'+nP('#',ov)+'\x20'+ow+'\x0a&nbsp;\x0a';});}nZ=nZ['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');nZ=nZ['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(ox,oy,oz){if(typeof nQ==='function'){return nQ(oy,oz);}return'\x20['+oz+']\x20('+oy+')\x20';});nZ=nZ['replace'](/\n[ \t\f]*/gi,'\x0a');nZ=nZ['replace'](/\n\n+/gi,'\x0a');if(nX){nZ=nZ['replace'](/( |\t)+/gi,'\x20');nZ=nZ['replace'](/&nbsp;/gi,'\x20');}else{nZ=nZ['replace'](/( |&nbsp;|\t)+/gi,'\x20');}nZ=nZ['replace'](/\n +/gi,'\x0a');nZ=nZ['replace'](/^ +/gi,'');while(nZ['indexOf']('\x0a')===0x0){nZ=nZ['substring'](0x1);}if(nZ['length']===0x0||nZ['lastIndexOf']('\x0a')!==nZ['length']-0x1){nZ+='\x0a';}return nZ;};TDV['Tour']['Script']['getKey']=function(oA){return window[oA];};TDV['Tour']['Script']['registerKey']=function(oB,oC){window[oB]=oC;};TDV['Tour']['Script']['unregisterKey']=function(oD){delete window[oD];};TDV['Tour']['Script']['existsKey']=function(oE){return oE in window;};
//# sourceMappingURL=http://localhost:9000/script_v2020.4.0-beta.7769.js.map
//Generated with v2020.4.0-beta.7769, Wed Oct 7 2020